<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>3.4 Wrangling data frames | A Introduction to R</title>
  <meta name="description" content="An Introduction to R" />
  <meta name="generator" content="bookdown 0.18 and GitBook 2.6.7" />

  <meta property="og:title" content="3.4 Wrangling data frames | A Introduction to R" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="An Introduction to R" />
  <meta name="github-repo" content="alexd106/Rbook" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="3.4 Wrangling data frames | A Introduction to R" />
  
  <meta name="twitter:description" content="An Introduction to R" />
  

<meta name="author" content="Alex Douglas, Francesca Mancini, Deon Roos, Ana Couto &amp; David Lusseau" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="importing-data.html"/>
<link rel="next" href="summarising-data-frames.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/kePrint-0.0.1/kePrint.js"></script>


<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">An Introduction R</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Preface</a><ul>
<li class="chapter" data-level="0.1" data-path="the-aim-of-this-book.html"><a href="the-aim-of-this-book.html"><i class="fa fa-check"></i><b>0.1</b> The aim of this book</a></li>
<li class="chapter" data-level="0.2" data-path="who-is-this-book-for.html"><a href="who-is-this-book-for.html"><i class="fa fa-check"></i><b>0.2</b> Who is this book for?</a></li>
<li class="chapter" data-level="0.3" data-path="why-an-open-book.html"><a href="why-an-open-book.html"><i class="fa fa-check"></i><b>0.3</b> Why an open book?</a></li>
<li class="chapter" data-level="0.4" data-path="who-are-we.html"><a href="who-are-we.html"><i class="fa fa-check"></i><b>0.4</b> Who are we?</a></li>
<li class="chapter" data-level="0.5" data-path="book-website.html"><a href="book-website.html"><i class="fa fa-check"></i><b>0.5</b> Book website</a></li>
<li class="chapter" data-level="0.6" data-path="some-r-pointers.html"><a href="some-r-pointers.html"><i class="fa fa-check"></i><b>0.6</b> Some R pointers</a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="chap1.html"><a href="chap1.html"><i class="fa fa-check"></i><b>1</b> Getting started with R and RStudio</a><ul>
<li class="chapter" data-level="1.1" data-path="install-r.html"><a href="install-r.html"><i class="fa fa-check"></i><b>1.1</b> Installing R</a><ul>
<li class="chapter" data-level="1.1.1" data-path="install-r.html"><a href="install-r.html#windows-users"><i class="fa fa-check"></i><b>1.1.1</b> Windows users</a></li>
<li class="chapter" data-level="1.1.2" data-path="install-r.html"><a href="install-r.html#mac-users"><i class="fa fa-check"></i><b>1.1.2</b> Mac users</a></li>
<li class="chapter" data-level="1.1.3" data-path="install-r.html"><a href="install-r.html#linux-users"><i class="fa fa-check"></i><b>1.1.3</b> Linux users</a></li>
<li class="chapter" data-level="1.1.4" data-path="install-r.html"><a href="install-r.html#testing-r"><i class="fa fa-check"></i><b>1.1.4</b> Testing R</a></li>
</ul></li>
<li class="chapter" data-level="1.2" data-path="installing-rstudio.html"><a href="installing-rstudio.html"><i class="fa fa-check"></i><b>1.2</b> Installing RStudio</a><ul>
<li class="chapter" data-level="1.2.1" data-path="installing-rstudio.html"><a href="installing-rstudio.html#windows-and-mac-users"><i class="fa fa-check"></i><b>1.2.1</b> Windows and Mac users</a></li>
<li class="chapter" data-level="1.2.2" data-path="installing-rstudio.html"><a href="installing-rstudio.html#linux-users-1"><i class="fa fa-check"></i><b>1.2.2</b> Linux users</a></li>
<li class="chapter" data-level="1.2.3" data-path="installing-rstudio.html"><a href="installing-rstudio.html#testing-rstudio"><i class="fa fa-check"></i><b>1.2.3</b> Testing RStudio</a></li>
</ul></li>
<li class="chapter" data-level="1.3" data-path="rstudio-orient.html"><a href="rstudio-orient.html"><i class="fa fa-check"></i><b>1.3</b> RStudio orientation</a><ul>
<li class="chapter" data-level="1.3.1" data-path="rstudio-orient.html"><a href="rstudio-orient.html#cons"><i class="fa fa-check"></i><b>1.3.1</b> Console</a></li>
<li class="chapter" data-level="1.3.2" data-path="rstudio-orient.html"><a href="rstudio-orient.html#environment-history-connections"><i class="fa fa-check"></i><b>1.3.2</b> Environment / History / Connections</a></li>
<li class="chapter" data-level="1.3.3" data-path="rstudio-orient.html"><a href="rstudio-orient.html#files-plots-packages-help-viewer"><i class="fa fa-check"></i><b>1.3.3</b> Files / Plots / Packages / Help / Viewer</a></li>
</ul></li>
<li class="chapter" data-level="1.4" data-path="alternatives-to-rstudio.html"><a href="alternatives-to-rstudio.html"><i class="fa fa-check"></i><b>1.4</b> Alternatives to RStudio</a></li>
<li class="chapter" data-level="1.5" data-path="packages.html"><a href="packages.html"><i class="fa fa-check"></i><b>1.5</b> R packages</a><ul>
<li class="chapter" data-level="1.5.1" data-path="packages.html"><a href="packages.html#cran_packages"><i class="fa fa-check"></i><b>1.5.1</b> CRAN packages</a></li>
<li class="chapter" data-level="1.5.2" data-path="packages.html"><a href="packages.html#bioconductor-packages"><i class="fa fa-check"></i><b>1.5.2</b> Bioconductor packages</a></li>
<li class="chapter" data-level="1.5.3" data-path="packages.html"><a href="packages.html#github-packages"><i class="fa fa-check"></i><b>1.5.3</b> GitHub packages</a></li>
<li class="chapter" data-level="1.5.4" data-path="packages.html"><a href="packages.html#using-packages"><i class="fa fa-check"></i><b>1.5.4</b> Using packages</a></li>
</ul></li>
<li class="chapter" data-level="1.6" data-path="rsprojs.html"><a href="rsprojs.html"><i class="fa fa-check"></i><b>1.6</b> Projects in RStudio</a></li>
<li class="chapter" data-level="1.7" data-path="work-d.html"><a href="work-d.html"><i class="fa fa-check"></i><b>1.7</b> Working directories</a></li>
<li class="chapter" data-level="1.8" data-path="dir-struct.html"><a href="dir-struct.html"><i class="fa fa-check"></i><b>1.8</b> Directory structure</a></li>
<li class="chapter" data-level="1.9" data-path="file-names.html"><a href="file-names.html"><i class="fa fa-check"></i><b>1.9</b> File names</a></li>
<li class="chapter" data-level="1.10" data-path="proj-doc.html"><a href="proj-doc.html"><i class="fa fa-check"></i><b>1.10</b> Project documentation</a></li>
<li class="chapter" data-level="1.11" data-path="r-style-guide.html"><a href="r-style-guide.html"><i class="fa fa-check"></i><b>1.11</b> R style guide</a></li>
<li class="chapter" data-level="1.12" data-path="backing-up-projects.html"><a href="backing-up-projects.html"><i class="fa fa-check"></i><b>1.12</b> Backing up projects</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="basics-r.html"><a href="basics-r.html"><i class="fa fa-check"></i><b>2</b> Some R basics</a><ul>
<li class="chapter" data-level="2.1" data-path="getting-started.html"><a href="getting-started.html"><i class="fa fa-check"></i><b>2.1</b> Getting started</a></li>
<li class="chapter" data-level="2.2" data-path="objects-in-r.html"><a href="objects-in-r.html"><i class="fa fa-check"></i><b>2.2</b> Objects in R</a><ul>
<li class="chapter" data-level="2.2.1" data-path="objects-in-r.html"><a href="objects-in-r.html#r_objs"><i class="fa fa-check"></i><b>2.2.1</b> Creating objects</a></li>
<li class="chapter" data-level="2.2.2" data-path="objects-in-r.html"><a href="objects-in-r.html#naming-objects"><i class="fa fa-check"></i><b>2.2.2</b> Naming objects</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="r-functions.html"><a href="r-functions.html"><i class="fa fa-check"></i><b>2.3</b> R functions</a><ul>
<li class="chapter" data-level="2.3.1" data-path="r-functions.html"><a href="r-functions.html#funcs"><i class="fa fa-check"></i><b>2.3.1</b> Using functions</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="vectors.html"><a href="vectors.html"><i class="fa fa-check"></i><b>2.4</b> Working with vectors</a><ul>
<li class="chapter" data-level="2.4.1" data-path="vectors.html"><a href="vectors.html#extracting-elements"><i class="fa fa-check"></i><b>2.4.1</b> Extracting elements</a></li>
<li class="chapter" data-level="2.4.2" data-path="vectors.html"><a href="vectors.html#replacing-elements"><i class="fa fa-check"></i><b>2.4.2</b> Replacing elements</a></li>
<li class="chapter" data-level="2.4.3" data-path="vectors.html"><a href="vectors.html#ordering-elements"><i class="fa fa-check"></i><b>2.4.3</b> Ordering elements</a></li>
<li class="chapter" data-level="2.4.4" data-path="vectors.html"><a href="vectors.html#vectorisation"><i class="fa fa-check"></i><b>2.4.4</b> Vectorisation</a></li>
<li class="chapter" data-level="2.4.5" data-path="vectors.html"><a href="vectors.html#missing-data"><i class="fa fa-check"></i><b>2.4.5</b> Missing data</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="help.html"><a href="help.html"><i class="fa fa-check"></i><b>2.5</b> Getting help</a><ul>
<li class="chapter" data-level="2.5.1" data-path="help.html"><a href="help.html#r-help"><i class="fa fa-check"></i><b>2.5.1</b> R help</a></li>
<li class="chapter" data-level="2.5.2" data-path="help.html"><a href="help.html#other-sources-of-help"><i class="fa fa-check"></i><b>2.5.2</b> Other sources of help</a></li>
</ul></li>
<li class="chapter" data-level="2.6" data-path="saving-stuff-in-r.html"><a href="saving-stuff-in-r.html"><i class="fa fa-check"></i><b>2.6</b> Saving stuff in R</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="data-r.html"><a href="data-r.html"><i class="fa fa-check"></i><b>3</b> Data in R</a><ul>
<li class="chapter" data-level="3.1" data-path="data-types.html"><a href="data-types.html"><i class="fa fa-check"></i><b>3.1</b> Data types</a></li>
<li class="chapter" data-level="3.2" data-path="data-structures.html"><a href="data-structures.html"><i class="fa fa-check"></i><b>3.2</b> Data structures</a><ul>
<li class="chapter" data-level="3.2.1" data-path="data-structures.html"><a href="data-structures.html#scal_vecs"><i class="fa fa-check"></i><b>3.2.1</b> Scalars and vectors</a></li>
<li class="chapter" data-level="3.2.2" data-path="data-structures.html"><a href="data-structures.html#matrices-and-arrays"><i class="fa fa-check"></i><b>3.2.2</b> Matrices and arrays</a></li>
<li class="chapter" data-level="3.2.3" data-path="data-structures.html"><a href="data-structures.html#df"><i class="fa fa-check"></i><b>3.2.3</b> Data frames</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="importing-data.html"><a href="importing-data.html"><i class="fa fa-check"></i><b>3.3</b> Importing data</a><ul>
<li class="chapter" data-level="3.3.1" data-path="importing-data.html"><a href="importing-data.html#saving-files-to-import"><i class="fa fa-check"></i><b>3.3.1</b> Saving files to import</a></li>
<li class="chapter" data-level="3.3.2" data-path="importing-data.html"><a href="importing-data.html#import-functions"><i class="fa fa-check"></i><b>3.3.2</b> Import functions</a></li>
<li class="chapter" data-level="3.3.3" data-path="importing-data.html"><a href="importing-data.html#common-import-frustrations"><i class="fa fa-check"></i><b>3.3.3</b> Common import frustrations</a></li>
<li class="chapter" data-level="3.3.4" data-path="importing-data.html"><a href="importing-data.html#other-import-options"><i class="fa fa-check"></i><b>3.3.4</b> Other import options</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="wrangling-data-frames.html"><a href="wrangling-data-frames.html"><i class="fa fa-check"></i><b>3.4</b> Wrangling data frames</a><ul>
<li class="chapter" data-level="3.4.1" data-path="wrangling-data-frames.html"><a href="wrangling-data-frames.html#positional-indexes"><i class="fa fa-check"></i><b>3.4.1</b> Positional indexes</a></li>
<li class="chapter" data-level="3.4.2" data-path="wrangling-data-frames.html"><a href="wrangling-data-frames.html#logical-indexes"><i class="fa fa-check"></i><b>3.4.2</b> Logical indexes</a></li>
</ul></li>
<li class="chapter" data-level="3.5" data-path="summarising-data-frames.html"><a href="summarising-data-frames.html"><i class="fa fa-check"></i><b>3.5</b> Summarising data frames</a></li>
<li class="chapter" data-level="3.6" data-path="other-data-structures.html"><a href="other-data-structures.html"><i class="fa fa-check"></i><b>3.6</b> Other data structures</a><ul>
<li class="chapter" data-level="3.6.1" data-path="other-data-structures.html"><a href="other-data-structures.html#lists"><i class="fa fa-check"></i><b>3.6.1</b> Lists</a></li>
</ul></li>
<li class="chapter" data-level="3.7" data-path="exporting-data.html"><a href="exporting-data.html"><i class="fa fa-check"></i><b>3.7</b> Exporting data</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="graphics-r.html"><a href="graphics-r.html"><i class="fa fa-check"></i><b>4</b> Graphics in R</a><ul>
<li class="chapter" data-level="4.1" data-path="beginning-at-the-end.html"><a href="beginning-at-the-end.html"><i class="fa fa-check"></i><b>4.1</b> Beginning at the end</a></li>
<li class="chapter" data-level="4.2" data-path="the-start-of-the-end.html"><a href="the-start-of-the-end.html"><i class="fa fa-check"></i><b>4.2</b> The start of the end</a><ul>
<li class="chapter" data-level="4.2.1" data-path="the-start-of-the-end.html"><a href="the-start-of-the-end.html#the-purest-of-ggplots"><i class="fa fa-check"></i><b>4.2.1</b> The purest of ggplots</a></li>
<li class="chapter" data-level="4.2.2" data-path="the-start-of-the-end.html"><a href="the-start-of-the-end.html#wrapping-grids"><i class="fa fa-check"></i><b>4.2.2</b> Wrapping grids</a></li>
<li class="chapter" data-level="4.2.3" data-path="the-start-of-the-end.html"><a href="the-start-of-the-end.html#plotting-multiple-ggplots"><i class="fa fa-check"></i><b>4.2.3</b> Plotting multiple ggplots</a></li>
<li class="chapter" data-level="4.2.4" data-path="the-start-of-the-end.html"><a href="the-start-of-the-end.html#make-it-your-own"><i class="fa fa-check"></i><b>4.2.4</b> Make it your own</a></li>
<li class="chapter" data-level="4.2.5" data-path="the-start-of-the-end.html"><a href="the-start-of-the-end.html#setting-the-theme"><i class="fa fa-check"></i><b>4.2.5</b> Setting the theme</a></li>
<li class="chapter" data-level="4.2.6" data-path="the-start-of-the-end.html"><a href="the-start-of-the-end.html#prettification"><i class="fa fa-check"></i><b>4.2.6</b> Prettification</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="tips.html"><a href="tips.html"><i class="fa fa-check"></i><b>4.3</b> Tips and tricks</a><ul>
<li class="chapter" data-level="4.3.1" data-path="tips.html"><a href="tips.html#statistics-layer"><i class="fa fa-check"></i><b>4.3.1</b> Statistics layer</a></li>
<li class="chapter" data-level="4.3.2" data-path="tips.html"><a href="tips.html#axis-limits-and-zooms"><i class="fa fa-check"></i><b>4.3.2</b> Axis limits and zooms</a></li>
<li class="chapter" data-level="4.3.3" data-path="tips.html"><a href="tips.html#layering-layers"><i class="fa fa-check"></i><b>4.3.3</b> Layering layers</a></li>
<li class="chapter" data-level="4.3.4" data-path="tips.html"><a href="tips.html#continuous-colours"><i class="fa fa-check"></i><b>4.3.4</b> Continuous colours</a></li>
<li class="chapter" data-level="4.3.5" data-path="tips.html"><a href="tips.html#size-of-points"><i class="fa fa-check"></i><b>4.3.5</b> Size of points</a></li>
<li class="chapter" data-level="4.3.6" data-path="tips.html"><a href="tips.html#moving-the-legend"><i class="fa fa-check"></i><b>4.3.6</b> Moving the legend</a></li>
<li class="chapter" data-level="4.3.7" data-path="tips.html"><a href="tips.html#hiding-the-legend"><i class="fa fa-check"></i><b>4.3.7</b> Hiding the legend</a></li>
<li class="chapter" data-level="4.3.8" data-path="tips.html"><a href="tips.html#hiding-part-of-the-legend"><i class="fa fa-check"></i><b>4.3.8</b> Hiding part of the legend</a></li>
<li class="chapter" data-level="4.3.9" data-path="tips.html"><a href="tips.html#writing-on-a-figure"><i class="fa fa-check"></i><b>4.3.9</b> Writing on a figure</a></li>
<li class="chapter" data-level="4.3.10" data-path="tips.html"><a href="tips.html#ticks-and-tick-labels"><i class="fa fa-check"></i><b>4.3.10</b> Ticks and tick labels</a></li>
<li class="chapter" data-level="4.3.11" data-path="tips.html"><a href="tips.html#more-advanced-patchwork"><i class="fa fa-check"></i><b>4.3.11</b> More advanced patchwork</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="bestiary.html"><a href="bestiary.html"><i class="fa fa-check"></i><b>4.4</b> A ggplot bestiary</a><ul>
<li class="chapter" data-level="4.4.1" data-path="bestiary.html"><a href="bestiary.html#density-plot"><i class="fa fa-check"></i><b>4.4.1</b> Density plot</a></li>
<li class="chapter" data-level="4.4.2" data-path="bestiary.html"><a href="bestiary.html#histogram"><i class="fa fa-check"></i><b>4.4.2</b> Histogram</a></li>
<li class="chapter" data-level="4.4.3" data-path="bestiary.html"><a href="bestiary.html#frequency-polygons"><i class="fa fa-check"></i><b>4.4.3</b> Frequency polygons</a></li>
<li class="chapter" data-level="4.4.4" data-path="bestiary.html"><a href="bestiary.html#boxplot"><i class="fa fa-check"></i><b>4.4.4</b> Boxplot</a></li>
<li class="chapter" data-level="4.4.5" data-path="bestiary.html"><a href="bestiary.html#violin-plots"><i class="fa fa-check"></i><b>4.4.5</b> Violin plots</a></li>
<li class="chapter" data-level="4.4.6" data-path="bestiary.html"><a href="bestiary.html#barchart"><i class="fa fa-check"></i><b>4.4.6</b> Barchart</a></li>
<li class="chapter" data-level="4.4.7" data-path="bestiary.html"><a href="bestiary.html#quantile-lines"><i class="fa fa-check"></i><b>4.4.7</b> Quantile lines</a></li>
<li class="chapter" data-level="4.4.8" data-path="bestiary.html"><a href="bestiary.html#heatmap"><i class="fa fa-check"></i><b>4.4.8</b> Heatmap</a></li>
<li class="chapter" data-level="4.4.9" data-path="bestiary.html"><a href="bestiary.html#hex-map"><i class="fa fa-check"></i><b>4.4.9</b> Hex map</a></li>
<li class="chapter" data-level="4.4.10" data-path="bestiary.html"><a href="bestiary.html#contour-map"><i class="fa fa-check"></i><b>4.4.10</b> Contour map</a></li>
<li class="chapter" data-level="4.4.11" data-path="bestiary.html"><a href="bestiary.html#cleveland-dotplot"><i class="fa fa-check"></i><b>4.4.11</b> Cleveland dotplot</a></li>
<li class="chapter" data-level="4.4.12" data-path="bestiary.html"><a href="bestiary.html#pairs-plot"><i class="fa fa-check"></i><b>4.4.12</b> Pairs plot</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="stats-r.html"><a href="stats-r.html"><i class="fa fa-check"></i><b>5</b> Simple Statistics in R</a></li>
<li class="chapter" data-level="6" data-path="prog-r.html"><a href="prog-r.html"><i class="fa fa-check"></i><b>6</b> Programming in R</a></li>
<li class="chapter" data-level="7" data-path="rmarkdown-r.html"><a href="rmarkdown-r.html"><i class="fa fa-check"></i><b>7</b> Reproducible reports with R markdown</a><ul>
<li class="chapter" data-level="7.1" data-path="what-is-r-markdown.html"><a href="what-is-r-markdown.html"><i class="fa fa-check"></i><b>7.1</b> What is R markdown?</a></li>
<li class="chapter" data-level="7.2" data-path="why-use-r-markdown.html"><a href="why-use-r-markdown.html"><i class="fa fa-check"></i><b>7.2</b> Why use R markdown?</a></li>
<li class="chapter" data-level="7.3" data-path="get-started-with-r-markdown.html"><a href="get-started-with-r-markdown.html"><i class="fa fa-check"></i><b>7.3</b> Get started with R markdown</a></li>
<li class="chapter" data-level="7.4" data-path="new-rm.html"><a href="new-rm.html"><i class="fa fa-check"></i><b>7.4</b> Create an R markdown document</a></li>
<li class="chapter" data-level="7.5" data-path="r-markdown-anatomy.html"><a href="r-markdown-anatomy.html"><i class="fa fa-check"></i><b>7.5</b> R markdown anatomy</a><ul>
<li class="chapter" data-level="7.5.1" data-path="r-markdown-anatomy.html"><a href="r-markdown-anatomy.html#yaml-header"><i class="fa fa-check"></i><b>7.5.1</b> YAML header</a></li>
<li class="chapter" data-level="7.5.2" data-path="r-markdown-anatomy.html"><a href="r-markdown-anatomy.html#formatted-text"><i class="fa fa-check"></i><b>7.5.2</b> Formatted text</a></li>
<li class="chapter" data-level="7.5.3" data-path="r-markdown-anatomy.html"><a href="r-markdown-anatomy.html#code_chunks"><i class="fa fa-check"></i><b>7.5.3</b> Code chunks</a></li>
<li class="chapter" data-level="7.5.4" data-path="r-markdown-anatomy.html"><a href="r-markdown-anatomy.html#adding-figures"><i class="fa fa-check"></i><b>7.5.4</b> Adding figures</a></li>
<li class="chapter" data-level="7.5.5" data-path="r-markdown-anatomy.html"><a href="r-markdown-anatomy.html#adding-tables"><i class="fa fa-check"></i><b>7.5.5</b> Adding tables</a></li>
<li class="chapter" data-level="7.5.6" data-path="r-markdown-anatomy.html"><a href="r-markdown-anatomy.html#inline-r-code"><i class="fa fa-check"></i><b>7.5.6</b> Inline R code</a></li>
</ul></li>
<li class="chapter" data-level="7.6" data-path="tips-tricks.html"><a href="tips-tricks.html"><i class="fa fa-check"></i><b>7.6</b> Some tips and tricks</a></li>
<li class="chapter" data-level="7.7" data-path="further-information.html"><a href="further-information.html"><i class="fa fa-check"></i><b>7.7</b> Further Information</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="github-r.html"><a href="github-r.html"><i class="fa fa-check"></i><b>8</b> Version control with Git and GitHub</a><ul>
<li class="chapter" data-level="8.1" data-path="what-is-version-control.html"><a href="what-is-version-control.html"><i class="fa fa-check"></i><b>8.1</b> What is version control?</a></li>
<li class="chapter" data-level="8.2" data-path="why-use-version-control.html"><a href="why-use-version-control.html"><i class="fa fa-check"></i><b>8.2</b> Why use version control?</a></li>
<li class="chapter" data-level="8.3" data-path="what-is-git-and-github.html"><a href="what-is-git-and-github.html"><i class="fa fa-check"></i><b>8.3</b> What is Git and GitHub?</a></li>
<li class="chapter" data-level="8.4" data-path="setup-git.html"><a href="setup-git.html"><i class="fa fa-check"></i><b>8.4</b> Getting started</a><ul>
<li class="chapter" data-level="8.4.1" data-path="setup-git.html"><a href="setup-git.html#install-git"><i class="fa fa-check"></i><b>8.4.1</b> Install Git</a></li>
<li class="chapter" data-level="8.4.2" data-path="setup-git.html"><a href="setup-git.html#configure-git"><i class="fa fa-check"></i><b>8.4.2</b> Configure Git</a></li>
<li class="chapter" data-level="8.4.3" data-path="setup-git.html"><a href="setup-git.html#rs_config"><i class="fa fa-check"></i><b>8.4.3</b> Configure RStudio</a></li>
<li class="chapter" data-level="8.4.4" data-path="setup-git.html"><a href="setup-git.html#register-a-github-account"><i class="fa fa-check"></i><b>8.4.4</b> Register a GitHub account</a></li>
</ul></li>
<li class="chapter" data-level="8.5" data-path="setting-up-a-project-in-rstudio.html"><a href="setting-up-a-project-in-rstudio.html"><i class="fa fa-check"></i><b>8.5</b> Setting up a project in RStudio</a><ul>
<li class="chapter" data-level="8.5.1" data-path="setting-up-a-project-in-rstudio.html"><a href="setting-up-a-project-in-rstudio.html#opt1"><i class="fa fa-check"></i><b>8.5.1</b> Option 1 - GitHub first</a></li>
<li class="chapter" data-level="8.5.2" data-path="setting-up-a-project-in-rstudio.html"><a href="setting-up-a-project-in-rstudio.html#opt2"><i class="fa fa-check"></i><b>8.5.2</b> Option 2 - RStudio first</a></li>
</ul></li>
<li class="chapter" data-level="8.6" data-path="use-git.html"><a href="use-git.html"><i class="fa fa-check"></i><b>8.6</b> Using Git</a><ul>
<li class="chapter" data-level="8.6.1" data-path="use-git.html"><a href="use-git.html#tracking-changes"><i class="fa fa-check"></i><b>8.6.1</b> Tracking changes</a></li>
<li class="chapter" data-level="8.6.2" data-path="use-git.html"><a href="use-git.html#commit-history"><i class="fa fa-check"></i><b>8.6.2</b> Commit history</a></li>
<li class="chapter" data-level="8.6.3" data-path="use-git.html"><a href="use-git.html#undo"><i class="fa fa-check"></i><b>8.6.3</b> Reverting changes</a></li>
<li class="chapter" data-level="8.6.4" data-path="use-git.html"><a href="use-git.html#collab"><i class="fa fa-check"></i><b>8.6.4</b> Collaborate with Git</a></li>
<li class="chapter" data-level="8.6.5" data-path="use-git.html"><a href="use-git.html#git-tips"><i class="fa fa-check"></i><b>8.6.5</b> Git tips</a></li>
</ul></li>
<li class="chapter" data-level="8.7" data-path="resources.html"><a href="resources.html"><i class="fa fa-check"></i><b>8.7</b> Further resources</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="appendix.html"><a href="appendix.html"><i class="fa fa-check"></i><b>9</b> Appendix</a><ul>
<li class="chapter" data-level="9.1" data-path="install-rm.html"><a href="install-rm.html"><i class="fa fa-check"></i><b>9.1</b> Installing R Markdown</a><ul>
<li class="chapter" data-level="9.1.1" data-path="install-rm.html"><a href="install-rm.html#ms-windows"><i class="fa fa-check"></i><b>9.1.1</b> MS Windows</a></li>
<li class="chapter" data-level="9.1.2" data-path="install-rm.html"><a href="install-rm.html#mac-osx"><i class="fa fa-check"></i><b>9.1.2</b> Mac OSX</a></li>
</ul></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">A Introduction to R</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="wrangling-data-frames" class="section level2">
<h2><span class="header-section-number">3.4</span> Wrangling data frames</h2>
<p>Now that we’re able to successfully import our data from an external file into R our next task is to do something useful with our data. Working with data is a fundamental skill which you’ll need to develop and spend time honing as you’ll likely do a lot of it during any project. The good news is that R is especially good at manipulating, summarising and visualising data. Manipulating data (often known as data wrangling or munging) in R can at first seem a little daunting for the new user but if you follow a few simple logical rules then you will quickly get the hang of it, especially with some practice.</p>
<p>Let’s remind ourselves of the structure of the <code>flowers</code> data frame we imported in the previous section.</p>
<div class="sourceCode" id="cb103"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb103-1" data-line-number="1">flowers &lt;-<span class="st"> </span><span class="kw">read.table</span>(<span class="dt">file =</span> <span class="st">&#39;data/flower.txt&#39;</span>, <span class="dt">header =</span> <span class="ot">TRUE</span>, <span class="dt">sep =</span> <span class="st">&quot;</span><span class="ch">\t</span><span class="st">&quot;</span>)</a>
<a class="sourceLine" id="cb103-2" data-line-number="2"><span class="kw">str</span>(flowers)</a>
<a class="sourceLine" id="cb103-3" data-line-number="3"><span class="co"># &#39;data.frame&#39;: 96 obs. of  8 variables:</span></a>
<a class="sourceLine" id="cb103-4" data-line-number="4"><span class="co">#  $ treat    : Factor w/ 2 levels &quot;notip&quot;,&quot;tip&quot;: 2 2 2 2 2 2 2 2 2 2 ...</span></a>
<a class="sourceLine" id="cb103-5" data-line-number="5"><span class="co">#  $ nitrogen : Factor w/ 3 levels &quot;high&quot;,&quot;low&quot;,&quot;medium&quot;: 3 3 3 3 3 3 3 3 3 3 ...</span></a>
<a class="sourceLine" id="cb103-6" data-line-number="6"><span class="co">#  $ block    : int  1 1 1 1 1 1 1 1 2 2 ...</span></a>
<a class="sourceLine" id="cb103-7" data-line-number="7"><span class="co">#  $ height   : num  7.5 10.7 11.2 10.4 10.4 9.8 6.9 9.4 10.4 12.3 ...</span></a>
<a class="sourceLine" id="cb103-8" data-line-number="8"><span class="co">#  $ weight   : num  7.62 12.14 12.76 8.78 13.58 ...</span></a>
<a class="sourceLine" id="cb103-9" data-line-number="9"><span class="co">#  $ leafarea : num  11.7 14.1 7.1 11.9 14.5 12.2 13.2 14 10.5 16.1 ...</span></a>
<a class="sourceLine" id="cb103-10" data-line-number="10"><span class="co">#  $ shootarea: num  31.9 46 66.7 20.3 26.9 72.7 43.1 28.5 57.8 36.9 ...</span></a>
<a class="sourceLine" id="cb103-11" data-line-number="11"><span class="co">#  $ flowers  : int  1 10 10 1 4 9 7 6 5 8 ...</span></a></code></pre></div>
<p>To access the data of any of the variables (columns) in our data frame we can use the <code>$</code> notation. For example, to access the <code>height</code> variable in our <code>flowers</code> data frame we can use</p>
<div class="sourceCode" id="cb104"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb104-1" data-line-number="1">flowers<span class="op">$</span>height</a>
<a class="sourceLine" id="cb104-2" data-line-number="2"><span class="co">#  [1]  7.5 10.7 11.2 10.4 10.4  9.8  6.9  9.4 10.4 12.3 10.4 11.0  7.1  6.0  9.0</span></a>
<a class="sourceLine" id="cb104-3" data-line-number="3"><span class="co"># [16]  4.5 12.6 10.0 10.0  8.5 14.1 10.1  8.5  6.5 11.5  7.7  6.4  8.8  9.2  6.2</span></a>
<a class="sourceLine" id="cb104-4" data-line-number="4"><span class="co"># [31]  6.3 17.2  8.0  8.0  6.4  7.6  9.7 12.3  9.1  8.9  7.4  3.1  7.9  8.8  8.5</span></a>
<a class="sourceLine" id="cb104-5" data-line-number="5"><span class="co"># [46]  5.6 11.5  5.8  5.6  5.3  7.5  4.1  3.5  8.5  4.9  2.5  5.4  3.9  5.8  4.5</span></a>
<a class="sourceLine" id="cb104-6" data-line-number="6"><span class="co"># [61]  8.0  1.8  2.2  3.9  8.5  8.5  6.4  1.2  2.6 10.9  7.2  2.1  4.7  5.0  6.5</span></a>
<a class="sourceLine" id="cb104-7" data-line-number="7"><span class="co"># [76]  2.6  6.0  9.3  4.6  5.2  3.9  2.3  5.2  2.2  4.5  1.8  3.0  3.7  2.4  5.7</span></a>
<a class="sourceLine" id="cb104-8" data-line-number="8"><span class="co"># [91]  3.7  3.2  3.9  3.3  5.5  4.4</span></a></code></pre></div>
<p>This will return a vector of the <code>height</code> data. If we want to we can assign this vector to another object and do stuff with it, like calculate a mean</p>
<div class="sourceCode" id="cb105"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb105-1" data-line-number="1">f_height &lt;-<span class="st"> </span>flowers<span class="op">$</span>height</a>
<a class="sourceLine" id="cb105-2" data-line-number="2"><span class="kw">mean</span>(f_height)</a>
<a class="sourceLine" id="cb105-3" data-line-number="3"><span class="co"># [1] 6.84</span></a></code></pre></div>
<p>Just as we did with <a href="vectors.html#vectors">vectors</a>, we can access specific data in data frames using our square bracket <code>[ ]</code> notation. However, instead of just using a single index, we now need to use two indexes, one to specify the rows and one for the columns. To do this, we can use the notation <code>my_data[rows, columns]</code> where <code>rows</code> and <code>columns</code> are indexes. Again, just like with our vectors our indexes can be positional or the result of a logical test.</p>
<div id="positional-indexes" class="section level3">
<h3><span class="header-section-number">3.4.1</span> Positional indexes</h3>
<p>To use positional indexes we simple have to write the positon of the rows and columns we want to extract inside our <code>[ ]</code>. For example, if for some reason we wanted to extract the first value (1<sup>st</sup> row ) of our <code>height</code> variable (4<sup>th</sup> column)</p>
<div class="sourceCode" id="cb106"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb106-1" data-line-number="1">flowers[<span class="dv">1</span>, <span class="dv">4</span>]</a>
<a class="sourceLine" id="cb106-2" data-line-number="2"><span class="co"># [1] 7.5</span></a></code></pre></div>
<p>We can also extract values from multiple rows or columns by specifying these as indexes as vectors inside the <code>[ ]</code>. To extract the first 10 rows and the first 4 columns</p>
<div class="sourceCode" id="cb107"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb107-1" data-line-number="1">flowers[<span class="dv">1</span><span class="op">:</span><span class="dv">10</span>, <span class="dv">1</span><span class="op">:</span><span class="dv">4</span>]</a>
<a class="sourceLine" id="cb107-2" data-line-number="2"><span class="co">#    treat nitrogen block height</span></a>
<a class="sourceLine" id="cb107-3" data-line-number="3"><span class="co"># 1    tip   medium     1    7.5</span></a>
<a class="sourceLine" id="cb107-4" data-line-number="4"><span class="co"># 2    tip   medium     1   10.7</span></a>
<a class="sourceLine" id="cb107-5" data-line-number="5"><span class="co"># 3    tip   medium     1   11.2</span></a>
<a class="sourceLine" id="cb107-6" data-line-number="6"><span class="co"># 4    tip   medium     1   10.4</span></a>
<a class="sourceLine" id="cb107-7" data-line-number="7"><span class="co"># 5    tip   medium     1   10.4</span></a>
<a class="sourceLine" id="cb107-8" data-line-number="8"><span class="co"># 6    tip   medium     1    9.8</span></a>
<a class="sourceLine" id="cb107-9" data-line-number="9"><span class="co"># 7    tip   medium     1    6.9</span></a>
<a class="sourceLine" id="cb107-10" data-line-number="10"><span class="co"># 8    tip   medium     1    9.4</span></a>
<a class="sourceLine" id="cb107-11" data-line-number="11"><span class="co"># 9    tip   medium     2   10.4</span></a>
<a class="sourceLine" id="cb107-12" data-line-number="12"><span class="co"># 10   tip   medium     2   12.3</span></a></code></pre></div>
<p>Or extract the 1<sup>st</sup>, 5<sup>th</sup>, 12<sup>th</sup>, 30<sup>th</sup> rows from the 1<sup>st</sup>, 3<sup>rd</sup>, 6<sup>th</sup> and 8<sup>th</sup> columns</p>
<div class="sourceCode" id="cb108"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb108-1" data-line-number="1">flowers[<span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">5</span>, <span class="dv">12</span>, <span class="dv">30</span>), <span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">3</span>, <span class="dv">6</span>, <span class="dv">8</span>)]</a>
<a class="sourceLine" id="cb108-2" data-line-number="2"><span class="co">#    treat block leafarea flowers</span></a>
<a class="sourceLine" id="cb108-3" data-line-number="3"><span class="co"># 1    tip     1     11.7       1</span></a>
<a class="sourceLine" id="cb108-4" data-line-number="4"><span class="co"># 5    tip     1     14.5       4</span></a>
<a class="sourceLine" id="cb108-5" data-line-number="5"><span class="co"># 12   tip     2     12.6       6</span></a>
<a class="sourceLine" id="cb108-6" data-line-number="6"><span class="co"># 30   tip     2     11.6       5</span></a></code></pre></div>
<p>All we are doing in the two examples above is creating vectors of positions for the rows and columns that we want to extract. We have done this by simply using the skills we developed in <a href="r-functions.html#funcs">Chapter 2</a> when we generated vectors using the <code>c()</code> function or the <code>:</code> notation.</p>
<p>But what if we want to extract either all of the rows or all of the columns? It would be extremely tedious to have to generate vectors for all rows or for all columns. Thankfully R has a shortcut. If you don’t specify a row or column index R interprets it to mean you want all rows or all columns. For example, to extract the first 8 rows and all of the columns in the <code>flower</code> data frame</p>
<div class="sourceCode" id="cb109"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb109-1" data-line-number="1">flowers[<span class="dv">1</span><span class="op">:</span><span class="dv">8</span>, ]</a>
<a class="sourceLine" id="cb109-2" data-line-number="2"><span class="co">#   treat nitrogen block height weight leafarea shootarea flowers</span></a>
<a class="sourceLine" id="cb109-3" data-line-number="3"><span class="co"># 1   tip   medium     1    7.5   7.62     11.7      31.9       1</span></a>
<a class="sourceLine" id="cb109-4" data-line-number="4"><span class="co"># 2   tip   medium     1   10.7  12.14     14.1      46.0      10</span></a>
<a class="sourceLine" id="cb109-5" data-line-number="5"><span class="co"># 3   tip   medium     1   11.2  12.76      7.1      66.7      10</span></a>
<a class="sourceLine" id="cb109-6" data-line-number="6"><span class="co"># 4   tip   medium     1   10.4   8.78     11.9      20.3       1</span></a>
<a class="sourceLine" id="cb109-7" data-line-number="7"><span class="co"># 5   tip   medium     1   10.4  13.58     14.5      26.9       4</span></a>
<a class="sourceLine" id="cb109-8" data-line-number="8"><span class="co"># 6   tip   medium     1    9.8  10.08     12.2      72.7       9</span></a>
<a class="sourceLine" id="cb109-9" data-line-number="9"><span class="co"># 7   tip   medium     1    6.9  10.11     13.2      43.1       7</span></a>
<a class="sourceLine" id="cb109-10" data-line-number="10"><span class="co"># 8   tip   medium     1    9.4  10.28     14.0      28.5       6</span></a></code></pre></div>
<p>or all of the rows and the first 3 columns (scroll down output box to see all of the data)</p>
<div class="sourceCode" id="cb110"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb110-1" data-line-number="1">flowers[, <span class="dv">1</span><span class="op">:</span><span class="dv">3</span>]</a></code></pre></div>
<pre style="max-height: 500px;"><code>#    treat nitrogen block
# 1    tip   medium     1
# 2    tip   medium     1
# 3    tip   medium     1
# 4    tip   medium     1
# 5    tip   medium     1
# 6    tip   medium     1
# 7    tip   medium     1
# 8    tip   medium     1
# 9    tip   medium     2
# 10   tip   medium     2
# 11   tip   medium     2
# 12   tip   medium     2
# 13   tip   medium     2
# 14   tip   medium     2
# 15   tip   medium     2
# 16   tip   medium     2
# 17   tip     high     1
# 18   tip     high     1
# 19   tip     high     1
# 20   tip     high     1
# 21   tip     high     1
# 22   tip     high     1
# 23   tip     high     1
# 24   tip     high     1
# 25   tip     high     2
# 26   tip     high     2
# 27   tip     high     2
# 28   tip     high     2
# 29   tip     high     2
# 30   tip     high     2
# 31   tip     high     2
# 32   tip     high     2
# 33   tip      low     1
# 34   tip      low     1
# 35   tip      low     1
# 36   tip      low     1
# 37   tip      low     1
# 38   tip      low     1
# 39   tip      low     1
# 40   tip      low     1
# 41   tip      low     2
# 42   tip      low     2
# 43   tip      low     2
# 44   tip      low     2
# 45   tip      low     2
# 46   tip      low     2
# 47   tip      low     2
# 48   tip      low     2
# 49 notip   medium     1
# 50 notip   medium     1
# 51 notip   medium     1
# 52 notip   medium     1
# 53 notip   medium     1
# 54 notip   medium     1
# 55 notip   medium     1
# 56 notip   medium     1
# 57 notip   medium     2
# 58 notip   medium     2
# 59 notip   medium     2
# 60 notip   medium     2
# 61 notip   medium     2
# 62 notip   medium     2
# 63 notip   medium     2
# 64 notip   medium     2
# 65 notip     high     1
# 66 notip     high     1
# 67 notip     high     1
# 68 notip     high     1
# 69 notip     high     1
# 70 notip     high     1
# 71 notip     high     1
# 72 notip     high     1
# 73 notip     high     2
# 74 notip     high     2
# 75 notip     high     2
# 76 notip     high     2
# 77 notip     high     2
# 78 notip     high     2
# 79 notip     high     2
# 80 notip     high     2
# 81 notip      low     1
# 82 notip      low     1
# 83 notip      low     1
# 84 notip      low     1
# 85 notip      low     1
# 86 notip      low     1
# 87 notip      low     1
# 88 notip      low     1
# 89 notip      low     2
# 90 notip      low     2
# 91 notip      low     2
# 92 notip      low     2
# 93 notip      low     2
# 94 notip      low     2
# 95 notip      low     2
# 96 notip      low     2</code></pre>
<p>We can even use negative positional indexes to exclude certain row and columns. As an example, lets extract all of the rows except the first 70 rows and all columns except the 4<sup>th</sup>, 7<sup>th</sup> and 8<sup>th</sup> columns. Notice we need to use the <code>-c()</code> function even though we have generated a vector for the rows using the <code>:</code> method. If we just use <code>-1:70</code> this would actually generate a regular sequence from -1 to 70 and not what we want (we could of course used <code>-1:-70</code>).</p>
<div class="sourceCode" id="cb112"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb112-1" data-line-number="1">flowers[<span class="op">-</span><span class="kw">c</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">70</span>), <span class="op">-</span><span class="kw">c</span>(<span class="dv">4</span>, <span class="dv">7</span>, <span class="dv">8</span>)]</a>
<a class="sourceLine" id="cb112-2" data-line-number="2"><span class="co">#    treat nitrogen block weight leafarea</span></a>
<a class="sourceLine" id="cb112-3" data-line-number="3"><span class="co"># 71 notip     high     1  15.21     15.9</span></a>
<a class="sourceLine" id="cb112-4" data-line-number="4"><span class="co"># 72 notip     high     1  19.15     15.6</span></a>
<a class="sourceLine" id="cb112-5" data-line-number="5"><span class="co"># 73 notip     high     2  13.42     19.8</span></a>
<a class="sourceLine" id="cb112-6" data-line-number="6"><span class="co"># 74 notip     high     2  16.82     17.3</span></a>
<a class="sourceLine" id="cb112-7" data-line-number="7"><span class="co"># 75 notip     high     2  14.00     10.1</span></a>
<a class="sourceLine" id="cb112-8" data-line-number="8"><span class="co"># 76 notip     high     2  18.88     16.4</span></a>
<a class="sourceLine" id="cb112-9" data-line-number="9"><span class="co"># 77 notip     high     2  13.68     16.2</span></a>
<a class="sourceLine" id="cb112-10" data-line-number="10"><span class="co"># 78 notip     high     2  18.75     18.4</span></a>
<a class="sourceLine" id="cb112-11" data-line-number="11"><span class="co"># 79 notip     high     2  14.65     16.7</span></a>
<a class="sourceLine" id="cb112-12" data-line-number="12"><span class="co"># 80 notip     high     2  17.70     19.1</span></a>
<a class="sourceLine" id="cb112-13" data-line-number="13"><span class="co"># 81 notip      low     1   7.17     13.5</span></a>
<a class="sourceLine" id="cb112-14" data-line-number="14"><span class="co"># 82 notip      low     1   7.28     13.8</span></a>
<a class="sourceLine" id="cb112-15" data-line-number="15"><span class="co"># 83 notip      low     1   5.79     11.0</span></a>
<a class="sourceLine" id="cb112-16" data-line-number="16"><span class="co"># 84 notip      low     1   9.97      9.6</span></a>
<a class="sourceLine" id="cb112-17" data-line-number="17"><span class="co"># 85 notip      low     1   8.60      9.4</span></a>
<a class="sourceLine" id="cb112-18" data-line-number="18"><span class="co"># 86 notip      low     1   6.01     17.6</span></a>
<a class="sourceLine" id="cb112-19" data-line-number="19"><span class="co"># 87 notip      low     1   9.93     12.0</span></a>
<a class="sourceLine" id="cb112-20" data-line-number="20"><span class="co"># 88 notip      low     1   7.03      7.9</span></a>
<a class="sourceLine" id="cb112-21" data-line-number="21"><span class="co"># 89 notip      low     2   9.10     14.5</span></a>
<a class="sourceLine" id="cb112-22" data-line-number="22"><span class="co"># 90 notip      low     2   9.05      9.6</span></a>
<a class="sourceLine" id="cb112-23" data-line-number="23"><span class="co"># 91 notip      low     2   8.10     10.5</span></a>
<a class="sourceLine" id="cb112-24" data-line-number="24"><span class="co"># 92 notip      low     2   7.45     14.1</span></a>
<a class="sourceLine" id="cb112-25" data-line-number="25"><span class="co"># 93 notip      low     2   9.19     12.4</span></a>
<a class="sourceLine" id="cb112-26" data-line-number="26"><span class="co"># 94 notip      low     2   8.92     11.6</span></a>
<a class="sourceLine" id="cb112-27" data-line-number="27"><span class="co"># 95 notip      low     2   8.44     13.5</span></a>
<a class="sourceLine" id="cb112-28" data-line-number="28"><span class="co"># 96 notip      low     2  10.60     16.2</span></a></code></pre></div>
<p>In addition to using a positional index for extracting particular variables (columns) you can also name the variables directly when using the square bracket <code>[ ]</code> notation. For example, let’s extract the first 5 rows and the variables <code>treat</code>, <code>nitrogen</code> and <code>leafarea</code>. Instead of using <code>flowers[1:5, c(1, 2, 6)]</code> we can use</p>
<div class="sourceCode" id="cb113"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb113-1" data-line-number="1">flowers[<span class="dv">1</span><span class="op">:</span><span class="dv">5</span>, <span class="kw">c</span>(<span class="st">&quot;treat&quot;</span>, <span class="st">&quot;nitrogen&quot;</span>, <span class="st">&quot;leafarea&quot;</span>)]</a>
<a class="sourceLine" id="cb113-2" data-line-number="2"><span class="co">#   treat nitrogen leafarea</span></a>
<a class="sourceLine" id="cb113-3" data-line-number="3"><span class="co"># 1   tip   medium     11.7</span></a>
<a class="sourceLine" id="cb113-4" data-line-number="4"><span class="co"># 2   tip   medium     14.1</span></a>
<a class="sourceLine" id="cb113-5" data-line-number="5"><span class="co"># 3   tip   medium      7.1</span></a>
<a class="sourceLine" id="cb113-6" data-line-number="6"><span class="co"># 4   tip   medium     11.9</span></a>
<a class="sourceLine" id="cb113-7" data-line-number="7"><span class="co"># 5   tip   medium     14.5</span></a></code></pre></div>
<p>We often use this method in preference to the positional index for selecting columns as it will still give us what we want even if we’ve changed the position of the variables in our data frame for some reason.</p>
</div>
<div id="logical-indexes" class="section level3">
<h3><span class="header-section-number">3.4.2</span> Logical indexes</h3>
<p>As we did</p>
<p>log
with()
adding new columns
add columns/rows</p>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="importing-data.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="summarising-data-frames.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": true,
"facebook": false,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"],
"instapper": false
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/alexd106/Rbook/edit/master/03-data.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
