<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>3.5 Summarising data frames | An Introduction to R</title>
  <meta name="description" content="3.5 Summarising data frames | An Introduction to R" />
  <meta name="generator" content="bookdown 0.18 and GitBook 2.6.7" />

  <meta property="og:title" content="3.5 Summarising data frames | An Introduction to R" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="3.5 Summarising data frames | An Introduction to R" />
  <meta name="github-repo" content="alexd106/Rbook" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="3.5 Summarising data frames | An Introduction to R" />
  
  <meta name="twitter:description" content="3.5 Summarising data frames | An Introduction to R" />
  

<meta name="author" content="Alex Douglas, Deon Roos, Francesca Mancini, Ana Couto &amp; David Lusseau" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="wrangling-data-frames.html"/>
<link rel="next" href="exporting-data.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<link href="libs/font-awesome-5.3.1/css/fontawesome-all.min.css" rel="stylesheet" />
<script src="libs/kePrint-0.0.1/kePrint.js"></script>


<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">An Introduction R</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Preface</a><ul>
<li class="chapter" data-level="0.1" data-path="the-aim-of-this-book.html"><a href="the-aim-of-this-book.html"><i class="fa fa-check"></i><b>0.1</b> The aim of this book</a></li>
<li class="chapter" data-level="0.2" data-path="who-is-this-book-for.html"><a href="who-is-this-book-for.html"><i class="fa fa-check"></i><b>0.2</b> Who is this book for?</a></li>
<li class="chapter" data-level="0.3" data-path="why-an-open-book.html"><a href="why-an-open-book.html"><i class="fa fa-check"></i><b>0.3</b> Why an open book?</a></li>
<li class="chapter" data-level="0.4" data-path="who-are-we.html"><a href="who-are-we.html"><i class="fa fa-check"></i><b>0.4</b> Who are we?</a></li>
<li class="chapter" data-level="0.5" data-path="book-website.html"><a href="book-website.html"><i class="fa fa-check"></i><b>0.5</b> Book website</a></li>
<li class="chapter" data-level="0.6" data-path="some-r-pointers.html"><a href="some-r-pointers.html"><i class="fa fa-check"></i><b>0.6</b> Some R pointers</a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="chap1.html"><a href="chap1.html"><i class="fa fa-check"></i><b>1</b> Getting started with R and RStudio</a><ul>
<li class="chapter" data-level="1.1" data-path="install-r.html"><a href="install-r.html"><i class="fa fa-check"></i><b>1.1</b> Installing R</a><ul>
<li class="chapter" data-level="1.1.1" data-path="install-r.html"><a href="install-r.html#windows-users"><i class="fa fa-check"></i><b>1.1.1</b> Windows users</a></li>
<li class="chapter" data-level="1.1.2" data-path="install-r.html"><a href="install-r.html#mac-users"><i class="fa fa-check"></i><b>1.1.2</b> Mac users</a></li>
<li class="chapter" data-level="1.1.3" data-path="install-r.html"><a href="install-r.html#linux-users"><i class="fa fa-check"></i><b>1.1.3</b> Linux users</a></li>
<li class="chapter" data-level="1.1.4" data-path="install-r.html"><a href="install-r.html#testing-r"><i class="fa fa-check"></i><b>1.1.4</b> Testing R</a></li>
</ul></li>
<li class="chapter" data-level="1.2" data-path="installing-rstudio.html"><a href="installing-rstudio.html"><i class="fa fa-check"></i><b>1.2</b> Installing RStudio</a><ul>
<li class="chapter" data-level="1.2.1" data-path="installing-rstudio.html"><a href="installing-rstudio.html#windows-and-mac-users"><i class="fa fa-check"></i><b>1.2.1</b> Windows and Mac users</a></li>
<li class="chapter" data-level="1.2.2" data-path="installing-rstudio.html"><a href="installing-rstudio.html#linux-users-1"><i class="fa fa-check"></i><b>1.2.2</b> Linux users</a></li>
<li class="chapter" data-level="1.2.3" data-path="installing-rstudio.html"><a href="installing-rstudio.html#testing-rstudio"><i class="fa fa-check"></i><b>1.2.3</b> Testing RStudio</a></li>
</ul></li>
<li class="chapter" data-level="1.3" data-path="rstudio-orient.html"><a href="rstudio-orient.html"><i class="fa fa-check"></i><b>1.3</b> RStudio orientation</a><ul>
<li class="chapter" data-level="1.3.1" data-path="rstudio-orient.html"><a href="rstudio-orient.html#cons"><i class="fa fa-check"></i><b>1.3.1</b> Console</a></li>
<li class="chapter" data-level="1.3.2" data-path="rstudio-orient.html"><a href="rstudio-orient.html#environment-history-connections"><i class="fa fa-check"></i><b>1.3.2</b> Environment / History / Connections</a></li>
<li class="chapter" data-level="1.3.3" data-path="rstudio-orient.html"><a href="rstudio-orient.html#files-plots-packages-help-viewer"><i class="fa fa-check"></i><b>1.3.3</b> Files / Plots / Packages / Help / Viewer</a></li>
</ul></li>
<li class="chapter" data-level="1.4" data-path="alternatives-to-rstudio.html"><a href="alternatives-to-rstudio.html"><i class="fa fa-check"></i><b>1.4</b> Alternatives to RStudio</a></li>
<li class="chapter" data-level="1.5" data-path="packages.html"><a href="packages.html"><i class="fa fa-check"></i><b>1.5</b> R packages</a><ul>
<li class="chapter" data-level="1.5.1" data-path="packages.html"><a href="packages.html#cran_packages"><i class="fa fa-check"></i><b>1.5.1</b> CRAN packages</a></li>
<li class="chapter" data-level="1.5.2" data-path="packages.html"><a href="packages.html#bioconductor-packages"><i class="fa fa-check"></i><b>1.5.2</b> Bioconductor packages</a></li>
<li class="chapter" data-level="1.5.3" data-path="packages.html"><a href="packages.html#github-packages"><i class="fa fa-check"></i><b>1.5.3</b> GitHub packages</a></li>
<li class="chapter" data-level="1.5.4" data-path="packages.html"><a href="packages.html#using-packages"><i class="fa fa-check"></i><b>1.5.4</b> Using packages</a></li>
</ul></li>
<li class="chapter" data-level="1.6" data-path="rsprojs.html"><a href="rsprojs.html"><i class="fa fa-check"></i><b>1.6</b> Projects in RStudio</a></li>
<li class="chapter" data-level="1.7" data-path="work-d.html"><a href="work-d.html"><i class="fa fa-check"></i><b>1.7</b> Working directories</a></li>
<li class="chapter" data-level="1.8" data-path="dir-struct.html"><a href="dir-struct.html"><i class="fa fa-check"></i><b>1.8</b> Directory structure</a></li>
<li class="chapter" data-level="1.9" data-path="file-names.html"><a href="file-names.html"><i class="fa fa-check"></i><b>1.9</b> File names</a></li>
<li class="chapter" data-level="1.10" data-path="proj-doc.html"><a href="proj-doc.html"><i class="fa fa-check"></i><b>1.10</b> Project documentation</a></li>
<li class="chapter" data-level="1.11" data-path="r-style-guide.html"><a href="r-style-guide.html"><i class="fa fa-check"></i><b>1.11</b> R style guide</a></li>
<li class="chapter" data-level="1.12" data-path="backing-up-projects.html"><a href="backing-up-projects.html"><i class="fa fa-check"></i><b>1.12</b> Backing up projects</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="basics-r.html"><a href="basics-r.html"><i class="fa fa-check"></i><b>2</b> Some R basics</a><ul>
<li class="chapter" data-level="2.1" data-path="getting-started.html"><a href="getting-started.html"><i class="fa fa-check"></i><b>2.1</b> Getting started</a></li>
<li class="chapter" data-level="2.2" data-path="objects-in-r.html"><a href="objects-in-r.html"><i class="fa fa-check"></i><b>2.2</b> Objects in R</a><ul>
<li class="chapter" data-level="2.2.1" data-path="objects-in-r.html"><a href="objects-in-r.html#r_objs"><i class="fa fa-check"></i><b>2.2.1</b> Creating objects</a></li>
<li class="chapter" data-level="2.2.2" data-path="objects-in-r.html"><a href="objects-in-r.html#naming-objects"><i class="fa fa-check"></i><b>2.2.2</b> Naming objects</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="r-functions.html"><a href="r-functions.html"><i class="fa fa-check"></i><b>2.3</b> R functions</a><ul>
<li class="chapter" data-level="2.3.1" data-path="r-functions.html"><a href="r-functions.html#funcs"><i class="fa fa-check"></i><b>2.3.1</b> Using functions</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="vectors.html"><a href="vectors.html"><i class="fa fa-check"></i><b>2.4</b> Working with vectors</a><ul>
<li class="chapter" data-level="2.4.1" data-path="vectors.html"><a href="vectors.html#extracting-elements"><i class="fa fa-check"></i><b>2.4.1</b> Extracting elements</a></li>
<li class="chapter" data-level="2.4.2" data-path="vectors.html"><a href="vectors.html#replacing-elements"><i class="fa fa-check"></i><b>2.4.2</b> Replacing elements</a></li>
<li class="chapter" data-level="2.4.3" data-path="vectors.html"><a href="vectors.html#vec_ord"><i class="fa fa-check"></i><b>2.4.3</b> Ordering elements</a></li>
<li class="chapter" data-level="2.4.4" data-path="vectors.html"><a href="vectors.html#vectorisation"><i class="fa fa-check"></i><b>2.4.4</b> Vectorisation</a></li>
<li class="chapter" data-level="2.4.5" data-path="vectors.html"><a href="vectors.html#na_vals"><i class="fa fa-check"></i><b>2.4.5</b> Missing data</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="help.html"><a href="help.html"><i class="fa fa-check"></i><b>2.5</b> Getting help</a><ul>
<li class="chapter" data-level="2.5.1" data-path="help.html"><a href="help.html#r-help"><i class="fa fa-check"></i><b>2.5.1</b> R help</a></li>
<li class="chapter" data-level="2.5.2" data-path="help.html"><a href="help.html#rhelp"><i class="fa fa-check"></i><b>2.5.2</b> Other sources of help</a></li>
</ul></li>
<li class="chapter" data-level="2.6" data-path="saving-stuff-in-r.html"><a href="saving-stuff-in-r.html"><i class="fa fa-check"></i><b>2.6</b> Saving stuff in R</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="data-r.html"><a href="data-r.html"><i class="fa fa-check"></i><b>3</b> Data in R</a><ul>
<li class="chapter" data-level="3.1" data-path="data-types.html"><a href="data-types.html"><i class="fa fa-check"></i><b>3.1</b> Data types</a></li>
<li class="chapter" data-level="3.2" data-path="data-structures.html"><a href="data-structures.html"><i class="fa fa-check"></i><b>3.2</b> Data structures</a><ul>
<li class="chapter" data-level="3.2.1" data-path="data-structures.html"><a href="data-structures.html#scal_vecs"><i class="fa fa-check"></i><b>3.2.1</b> Scalars and vectors</a></li>
<li class="chapter" data-level="3.2.2" data-path="data-structures.html"><a href="data-structures.html#matrices-and-arrays"><i class="fa fa-check"></i><b>3.2.2</b> Matrices and arrays</a></li>
<li class="chapter" data-level="3.2.3" data-path="data-structures.html"><a href="data-structures.html#lists"><i class="fa fa-check"></i><b>3.2.3</b> Lists</a></li>
<li class="chapter" data-level="3.2.4" data-path="data-structures.html"><a href="data-structures.html#df"><i class="fa fa-check"></i><b>3.2.4</b> Data frames</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="importing-data.html"><a href="importing-data.html"><i class="fa fa-check"></i><b>3.3</b> Importing data</a><ul>
<li class="chapter" data-level="3.3.1" data-path="importing-data.html"><a href="importing-data.html#saving-files-to-import"><i class="fa fa-check"></i><b>3.3.1</b> Saving files to import</a></li>
<li class="chapter" data-level="3.3.2" data-path="importing-data.html"><a href="importing-data.html#import-functions"><i class="fa fa-check"></i><b>3.3.2</b> Import functions</a></li>
<li class="chapter" data-level="3.3.3" data-path="importing-data.html"><a href="importing-data.html#common-import-frustrations"><i class="fa fa-check"></i><b>3.3.3</b> Common import frustrations</a></li>
<li class="chapter" data-level="3.3.4" data-path="importing-data.html"><a href="importing-data.html#import_other"><i class="fa fa-check"></i><b>3.3.4</b> Other import options</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="wrangling-data-frames.html"><a href="wrangling-data-frames.html"><i class="fa fa-check"></i><b>3.4</b> Wrangling data frames</a><ul>
<li class="chapter" data-level="3.4.1" data-path="wrangling-data-frames.html"><a href="wrangling-data-frames.html#positional-indexes"><i class="fa fa-check"></i><b>3.4.1</b> Positional indexes</a></li>
<li class="chapter" data-level="3.4.2" data-path="wrangling-data-frames.html"><a href="wrangling-data-frames.html#logical-indexes"><i class="fa fa-check"></i><b>3.4.2</b> Logical indexes</a></li>
<li class="chapter" data-level="3.4.3" data-path="wrangling-data-frames.html"><a href="wrangling-data-frames.html#ordering-data-frames"><i class="fa fa-check"></i><b>3.4.3</b> Ordering data frames</a></li>
<li class="chapter" data-level="3.4.4" data-path="wrangling-data-frames.html"><a href="wrangling-data-frames.html#adding-columns-and-rows"><i class="fa fa-check"></i><b>3.4.4</b> Adding columns and rows</a></li>
<li class="chapter" data-level="3.4.5" data-path="wrangling-data-frames.html"><a href="wrangling-data-frames.html#merging-data-frames"><i class="fa fa-check"></i><b>3.4.5</b> Merging data frames</a></li>
<li class="chapter" data-level="3.4.6" data-path="wrangling-data-frames.html"><a href="wrangling-data-frames.html#reshape"><i class="fa fa-check"></i><b>3.4.6</b> Reshaping data frames</a></li>
</ul></li>
<li class="chapter" data-level="3.5" data-path="summarising-data-frames.html"><a href="summarising-data-frames.html"><i class="fa fa-check"></i><b>3.5</b> Summarising data frames</a></li>
<li class="chapter" data-level="3.6" data-path="exporting-data.html"><a href="exporting-data.html"><i class="fa fa-check"></i><b>3.6</b> Exporting data</a><ul>
<li class="chapter" data-level="3.6.1" data-path="exporting-data.html"><a href="exporting-data.html#export-functions"><i class="fa fa-check"></i><b>3.6.1</b> Export functions</a></li>
<li class="chapter" data-level="3.6.2" data-path="exporting-data.html"><a href="exporting-data.html#other-export-functions"><i class="fa fa-check"></i><b>3.6.2</b> Other export functions</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="graphics-r.html"><a href="graphics-r.html"><i class="fa fa-check"></i><b>4</b> Graphics in R</a><ul>
<li class="chapter" data-level="4.1" data-path="beginning-at-the-end.html"><a href="beginning-at-the-end.html"><i class="fa fa-check"></i><b>4.1</b> Beginning at the end</a></li>
<li class="chapter" data-level="4.2" data-path="the-start-of-the-end.html"><a href="the-start-of-the-end.html"><i class="fa fa-check"></i><b>4.2</b> The start of the end</a><ul>
<li class="chapter" data-level="4.2.1" data-path="the-start-of-the-end.html"><a href="the-start-of-the-end.html#the-purest-of-ggplots"><i class="fa fa-check"></i><b>4.2.1</b> The purest of ggplots</a></li>
<li class="chapter" data-level="4.2.2" data-path="the-start-of-the-end.html"><a href="the-start-of-the-end.html#wrapping-grids"><i class="fa fa-check"></i><b>4.2.2</b> Wrapping grids</a></li>
<li class="chapter" data-level="4.2.3" data-path="the-start-of-the-end.html"><a href="the-start-of-the-end.html#plotting-multiple-ggplots"><i class="fa fa-check"></i><b>4.2.3</b> Plotting multiple ggplots</a></li>
<li class="chapter" data-level="4.2.4" data-path="the-start-of-the-end.html"><a href="the-start-of-the-end.html#make-it-your-own"><i class="fa fa-check"></i><b>4.2.4</b> Make it your own</a></li>
<li class="chapter" data-level="4.2.5" data-path="the-start-of-the-end.html"><a href="the-start-of-the-end.html#setting-the-theme"><i class="fa fa-check"></i><b>4.2.5</b> Setting the theme</a></li>
<li class="chapter" data-level="4.2.6" data-path="the-start-of-the-end.html"><a href="the-start-of-the-end.html#prettification"><i class="fa fa-check"></i><b>4.2.6</b> Prettification</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="tips.html"><a href="tips.html"><i class="fa fa-check"></i><b>4.3</b> Tips and tricks</a><ul>
<li class="chapter" data-level="4.3.1" data-path="tips.html"><a href="tips.html#statistics-layer"><i class="fa fa-check"></i><b>4.3.1</b> Statistics layer</a></li>
<li class="chapter" data-level="4.3.2" data-path="tips.html"><a href="tips.html#axis-limits-and-zooms"><i class="fa fa-check"></i><b>4.3.2</b> Axis limits and zooms</a></li>
<li class="chapter" data-level="4.3.3" data-path="tips.html"><a href="tips.html#layering-layers"><i class="fa fa-check"></i><b>4.3.3</b> Layering layers</a></li>
<li class="chapter" data-level="4.3.4" data-path="tips.html"><a href="tips.html#continuous-colours"><i class="fa fa-check"></i><b>4.3.4</b> Continuous colours</a></li>
<li class="chapter" data-level="4.3.5" data-path="tips.html"><a href="tips.html#size-of-points"><i class="fa fa-check"></i><b>4.3.5</b> Size of points</a></li>
<li class="chapter" data-level="4.3.6" data-path="tips.html"><a href="tips.html#moving-the-legend"><i class="fa fa-check"></i><b>4.3.6</b> Moving the legend</a></li>
<li class="chapter" data-level="4.3.7" data-path="tips.html"><a href="tips.html#hiding-the-legend"><i class="fa fa-check"></i><b>4.3.7</b> Hiding the legend</a></li>
<li class="chapter" data-level="4.3.8" data-path="tips.html"><a href="tips.html#hiding-part-of-the-legend"><i class="fa fa-check"></i><b>4.3.8</b> Hiding part of the legend</a></li>
<li class="chapter" data-level="4.3.9" data-path="tips.html"><a href="tips.html#writing-on-a-figure"><i class="fa fa-check"></i><b>4.3.9</b> Writing on a figure</a></li>
<li class="chapter" data-level="4.3.10" data-path="tips.html"><a href="tips.html#ticks-and-tick-labels"><i class="fa fa-check"></i><b>4.3.10</b> Ticks and tick labels</a></li>
<li class="chapter" data-level="4.3.11" data-path="tips.html"><a href="tips.html#more-advanced-patchwork"><i class="fa fa-check"></i><b>4.3.11</b> More advanced patchwork</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="bestiary.html"><a href="bestiary.html"><i class="fa fa-check"></i><b>4.4</b> A ggplot bestiary</a><ul>
<li class="chapter" data-level="4.4.1" data-path="bestiary.html"><a href="bestiary.html#density-plot"><i class="fa fa-check"></i><b>4.4.1</b> Density plot</a></li>
<li class="chapter" data-level="4.4.2" data-path="bestiary.html"><a href="bestiary.html#histogram"><i class="fa fa-check"></i><b>4.4.2</b> Histogram</a></li>
<li class="chapter" data-level="4.4.3" data-path="bestiary.html"><a href="bestiary.html#frequency-polygons"><i class="fa fa-check"></i><b>4.4.3</b> Frequency polygons</a></li>
<li class="chapter" data-level="4.4.4" data-path="bestiary.html"><a href="bestiary.html#boxplot"><i class="fa fa-check"></i><b>4.4.4</b> Boxplot</a></li>
<li class="chapter" data-level="4.4.5" data-path="bestiary.html"><a href="bestiary.html#violin-plots"><i class="fa fa-check"></i><b>4.4.5</b> Violin plots</a></li>
<li class="chapter" data-level="4.4.6" data-path="bestiary.html"><a href="bestiary.html#barchart"><i class="fa fa-check"></i><b>4.4.6</b> Barchart</a></li>
<li class="chapter" data-level="4.4.7" data-path="bestiary.html"><a href="bestiary.html#quantile-lines"><i class="fa fa-check"></i><b>4.4.7</b> Quantile lines</a></li>
<li class="chapter" data-level="4.4.8" data-path="bestiary.html"><a href="bestiary.html#heatmap"><i class="fa fa-check"></i><b>4.4.8</b> Heatmap</a></li>
<li class="chapter" data-level="4.4.9" data-path="bestiary.html"><a href="bestiary.html#hex-map"><i class="fa fa-check"></i><b>4.4.9</b> Hex map</a></li>
<li class="chapter" data-level="4.4.10" data-path="bestiary.html"><a href="bestiary.html#contour-map"><i class="fa fa-check"></i><b>4.4.10</b> Contour map</a></li>
<li class="chapter" data-level="4.4.11" data-path="bestiary.html"><a href="bestiary.html#cleveland-dotplot"><i class="fa fa-check"></i><b>4.4.11</b> Cleveland dotplot</a></li>
<li class="chapter" data-level="4.4.12" data-path="bestiary.html"><a href="bestiary.html#pairs-plot"><i class="fa fa-check"></i><b>4.4.12</b> Pairs plot</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="stats-r.html"><a href="stats-r.html"><i class="fa fa-check"></i><b>5</b> Simple Statistics in R</a><ul>
<li class="chapter" data-level="5.1" data-path="one-and-two-sample-tests.html"><a href="one-and-two-sample-tests.html"><i class="fa fa-check"></i><b>5.1</b> One and two sample tests</a></li>
<li class="chapter" data-level="5.2" data-path="correlation.html"><a href="correlation.html"><i class="fa fa-check"></i><b>5.2</b> Correlation</a></li>
<li class="chapter" data-level="5.3" data-path="simple-linear-modelling.html"><a href="simple-linear-modelling.html"><i class="fa fa-check"></i><b>5.3</b> Simple linear modelling</a></li>
<li class="chapter" data-level="5.4" data-path="other-modelling-approaches.html"><a href="other-modelling-approaches.html"><i class="fa fa-check"></i><b>5.4</b> Other modelling approaches</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="prog-r.html"><a href="prog-r.html"><i class="fa fa-check"></i><b>6</b> Programming in R</a><ul>
<li class="chapter" data-level="6.1" data-path="looking-behind-the-curtain.html"><a href="looking-behind-the-curtain.html"><i class="fa fa-check"></i><b>6.1</b> Looking behind the curtain</a></li>
<li class="chapter" data-level="6.2" data-path="functions-in-r.html"><a href="functions-in-r.html"><i class="fa fa-check"></i><b>6.2</b> Functions in R</a></li>
<li class="chapter" data-level="6.3" data-path="conditional-statements.html"><a href="conditional-statements.html"><i class="fa fa-check"></i><b>6.3</b> Conditional statements</a></li>
<li class="chapter" data-level="6.4" data-path="is-it-gonna-be-a-good-day.html"><a href="is-it-gonna-be-a-good-day.html"><i class="fa fa-check"></i><b>6.4</b> “Is it gonna be a good day?”</a></li>
<li class="chapter" data-level="6.5" data-path="loops.html"><a href="loops.html"><i class="fa fa-check"></i><b>6.5</b> Loops</a><ul>
<li class="chapter" data-level="6.5.1" data-path="loops.html"><a href="loops.html#for-loop"><i class="fa fa-check"></i><b>6.5.1</b> For loop</a></li>
<li class="chapter" data-level="6.5.2" data-path="loops.html"><a href="loops.html#while-loop"><i class="fa fa-check"></i><b>6.5.2</b> While loop</a></li>
<li class="chapter" data-level="6.5.3" data-path="loops.html"><a href="loops.html#when-to-use-a-loop"><i class="fa fa-check"></i><b>6.5.3</b> When to use a loop?</a></li>
<li class="chapter" data-level="6.5.4" data-path="loops.html"><a href="loops.html#if-not-loops-then-what"><i class="fa fa-check"></i><b>6.5.4</b> If not loops, then what?</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="rmarkdown-r.html"><a href="rmarkdown-r.html"><i class="fa fa-check"></i><b>7</b> Reproducible reports with R markdown</a><ul>
<li class="chapter" data-level="7.1" data-path="what-is-r-markdown.html"><a href="what-is-r-markdown.html"><i class="fa fa-check"></i><b>7.1</b> What is R markdown?</a></li>
<li class="chapter" data-level="7.2" data-path="why-use-r-markdown.html"><a href="why-use-r-markdown.html"><i class="fa fa-check"></i><b>7.2</b> Why use R markdown?</a></li>
<li class="chapter" data-level="7.3" data-path="get-started-with-r-markdown.html"><a href="get-started-with-r-markdown.html"><i class="fa fa-check"></i><b>7.3</b> Get started with R markdown</a></li>
<li class="chapter" data-level="7.4" data-path="new-rm.html"><a href="new-rm.html"><i class="fa fa-check"></i><b>7.4</b> Create an R markdown document</a></li>
<li class="chapter" data-level="7.5" data-path="r-markdown-anatomy.html"><a href="r-markdown-anatomy.html"><i class="fa fa-check"></i><b>7.5</b> R markdown anatomy</a><ul>
<li class="chapter" data-level="7.5.1" data-path="r-markdown-anatomy.html"><a href="r-markdown-anatomy.html#yaml-header"><i class="fa fa-check"></i><b>7.5.1</b> YAML header</a></li>
<li class="chapter" data-level="7.5.2" data-path="r-markdown-anatomy.html"><a href="r-markdown-anatomy.html#formatted-text"><i class="fa fa-check"></i><b>7.5.2</b> Formatted text</a></li>
<li class="chapter" data-level="7.5.3" data-path="r-markdown-anatomy.html"><a href="r-markdown-anatomy.html#code_chunks"><i class="fa fa-check"></i><b>7.5.3</b> Code chunks</a></li>
<li class="chapter" data-level="7.5.4" data-path="r-markdown-anatomy.html"><a href="r-markdown-anatomy.html#adding-figures"><i class="fa fa-check"></i><b>7.5.4</b> Adding figures</a></li>
<li class="chapter" data-level="7.5.5" data-path="r-markdown-anatomy.html"><a href="r-markdown-anatomy.html#adding-tables"><i class="fa fa-check"></i><b>7.5.5</b> Adding tables</a></li>
<li class="chapter" data-level="7.5.6" data-path="r-markdown-anatomy.html"><a href="r-markdown-anatomy.html#inline-r-code"><i class="fa fa-check"></i><b>7.5.6</b> Inline R code</a></li>
</ul></li>
<li class="chapter" data-level="7.6" data-path="tips-tricks.html"><a href="tips-tricks.html"><i class="fa fa-check"></i><b>7.6</b> Some tips and tricks</a></li>
<li class="chapter" data-level="7.7" data-path="further-information.html"><a href="further-information.html"><i class="fa fa-check"></i><b>7.7</b> Further Information</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="github-r.html"><a href="github-r.html"><i class="fa fa-check"></i><b>8</b> Version control with Git and GitHub</a><ul>
<li class="chapter" data-level="8.1" data-path="what-is-version-control.html"><a href="what-is-version-control.html"><i class="fa fa-check"></i><b>8.1</b> What is version control?</a></li>
<li class="chapter" data-level="8.2" data-path="why-use-version-control.html"><a href="why-use-version-control.html"><i class="fa fa-check"></i><b>8.2</b> Why use version control?</a></li>
<li class="chapter" data-level="8.3" data-path="what-is-git-and-github.html"><a href="what-is-git-and-github.html"><i class="fa fa-check"></i><b>8.3</b> What is Git and GitHub?</a></li>
<li class="chapter" data-level="8.4" data-path="setup-git.html"><a href="setup-git.html"><i class="fa fa-check"></i><b>8.4</b> Getting started</a><ul>
<li class="chapter" data-level="8.4.1" data-path="setup-git.html"><a href="setup-git.html#install-git"><i class="fa fa-check"></i><b>8.4.1</b> Install Git</a></li>
<li class="chapter" data-level="8.4.2" data-path="setup-git.html"><a href="setup-git.html#configure-git"><i class="fa fa-check"></i><b>8.4.2</b> Configure Git</a></li>
<li class="chapter" data-level="8.4.3" data-path="setup-git.html"><a href="setup-git.html#rs_config"><i class="fa fa-check"></i><b>8.4.3</b> Configure RStudio</a></li>
<li class="chapter" data-level="8.4.4" data-path="setup-git.html"><a href="setup-git.html#register-a-github-account"><i class="fa fa-check"></i><b>8.4.4</b> Register a GitHub account</a></li>
</ul></li>
<li class="chapter" data-level="8.5" data-path="setting-up-a-project-in-rstudio.html"><a href="setting-up-a-project-in-rstudio.html"><i class="fa fa-check"></i><b>8.5</b> Setting up a project in RStudio</a><ul>
<li class="chapter" data-level="8.5.1" data-path="setting-up-a-project-in-rstudio.html"><a href="setting-up-a-project-in-rstudio.html#opt1"><i class="fa fa-check"></i><b>8.5.1</b> Option 1 - GitHub first</a></li>
<li class="chapter" data-level="8.5.2" data-path="setting-up-a-project-in-rstudio.html"><a href="setting-up-a-project-in-rstudio.html#opt2"><i class="fa fa-check"></i><b>8.5.2</b> Option 2 - RStudio first</a></li>
</ul></li>
<li class="chapter" data-level="8.6" data-path="use-git.html"><a href="use-git.html"><i class="fa fa-check"></i><b>8.6</b> Using Git</a><ul>
<li class="chapter" data-level="8.6.1" data-path="use-git.html"><a href="use-git.html#tracking-changes"><i class="fa fa-check"></i><b>8.6.1</b> Tracking changes</a></li>
<li class="chapter" data-level="8.6.2" data-path="use-git.html"><a href="use-git.html#commit-history"><i class="fa fa-check"></i><b>8.6.2</b> Commit history</a></li>
<li class="chapter" data-level="8.6.3" data-path="use-git.html"><a href="use-git.html#undo"><i class="fa fa-check"></i><b>8.6.3</b> Reverting changes</a></li>
<li class="chapter" data-level="8.6.4" data-path="use-git.html"><a href="use-git.html#collab"><i class="fa fa-check"></i><b>8.6.4</b> Collaborate with Git</a></li>
<li class="chapter" data-level="8.6.5" data-path="use-git.html"><a href="use-git.html#git-tips"><i class="fa fa-check"></i><b>8.6.5</b> Git tips</a></li>
</ul></li>
<li class="chapter" data-level="8.7" data-path="resources.html"><a href="resources.html"><i class="fa fa-check"></i><b>8.7</b> Further resources</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="appendix.html"><a href="appendix.html"><i class="fa fa-check"></i><b>9</b> Appendix</a><ul>
<li class="chapter" data-level="9.1" data-path="install-rm.html"><a href="install-rm.html"><i class="fa fa-check"></i><b>9.1</b> Installing R Markdown</a><ul>
<li class="chapter" data-level="9.1.1" data-path="install-rm.html"><a href="install-rm.html#ms-windows"><i class="fa fa-check"></i><b>9.1.1</b> MS Windows</a></li>
<li class="chapter" data-level="9.1.2" data-path="install-rm.html"><a href="install-rm.html#mac-osx"><i class="fa fa-check"></i><b>9.1.2</b> Mac OSX</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="10" data-path="graphics-base-r.html"><a href="graphics-base-r.html"><i class="fa fa-check"></i><b>10</b> Graphics with base R</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">An Introduction to R</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="summarising-data-frames" class="section level2">
<h2><span class="header-section-number">3.5</span> Summarising data frames</h2>
<p>Now that we’re able to manipulate and extract data from our data frames our next task is to start exploring and getting to know our data. In this section we’ll start producing tables of useful summary statistics of the variables in our data frame and in the next <a href="graphics-r.html#graphics_r">Chapter</a> we’ll cover visualising our data.</p>
<p>A really useful starting point is to produce some simple summary statistics of all of the variables in our <code>flowers</code> data frame using the <code>summary()</code> function.</p>
<div class="sourceCode" id="cb152"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb152-1" data-line-number="1"><span class="kw">summary</span>(flowers)</a>
<a class="sourceLine" id="cb152-2" data-line-number="2"><span class="co">#    treat      nitrogen      block         height          weight     </span></a>
<a class="sourceLine" id="cb152-3" data-line-number="3"><span class="co">#  notip:48   high  :32   Min.   :1.0   Min.   : 1.20   Min.   : 5.79  </span></a>
<a class="sourceLine" id="cb152-4" data-line-number="4"><span class="co">#  tip  :48   low   :32   1st Qu.:1.0   1st Qu.: 4.47   1st Qu.: 9.03  </span></a>
<a class="sourceLine" id="cb152-5" data-line-number="5"><span class="co">#             medium:32   Median :1.5   Median : 6.45   Median :11.39  </span></a>
<a class="sourceLine" id="cb152-6" data-line-number="6"><span class="co">#                         Mean   :1.5   Mean   : 6.84   Mean   :12.15  </span></a>
<a class="sourceLine" id="cb152-7" data-line-number="7"><span class="co">#                         3rd Qu.:2.0   3rd Qu.: 9.03   3rd Qu.:14.54  </span></a>
<a class="sourceLine" id="cb152-8" data-line-number="8"><span class="co">#                         Max.   :2.0   Max.   :17.20   Max.   :23.89  </span></a>
<a class="sourceLine" id="cb152-9" data-line-number="9"><span class="co">#     leafarea      shootarea        flowers     </span></a>
<a class="sourceLine" id="cb152-10" data-line-number="10"><span class="co">#  Min.   : 5.8   Min.   :  5.8   Min.   : 1.00  </span></a>
<a class="sourceLine" id="cb152-11" data-line-number="11"><span class="co">#  1st Qu.:11.1   1st Qu.: 39.0   1st Qu.: 4.00  </span></a>
<a class="sourceLine" id="cb152-12" data-line-number="12"><span class="co">#  Median :13.4   Median : 70.0   Median : 6.00  </span></a>
<a class="sourceLine" id="cb152-13" data-line-number="13"><span class="co">#  Mean   :14.1   Mean   : 79.8   Mean   : 7.06  </span></a>
<a class="sourceLine" id="cb152-14" data-line-number="14"><span class="co">#  3rd Qu.:16.4   3rd Qu.:113.3   3rd Qu.: 9.00  </span></a>
<a class="sourceLine" id="cb152-15" data-line-number="15"><span class="co">#  Max.   :49.2   Max.   :189.6   Max.   :17.00</span></a></code></pre></div>
<p>For numeric variables (i.e. <code>height</code>, <code>weight</code> etc) the mean, minimum, maximum, median, first (lower) quartile and third (upper) quartile are presented. For factor variables (i.e. <code>treat</code> and <code>nitrogen</code>) the number of observations in each of the factor levels is given. If a variable contains missing data then the number of <code>NA</code> values is also reported.</p>
<p>If we wanted to summarise a smaller subset of variables in our data frame we can use our indexing skills in combination with the <code>summary()</code> function. For example, to summarise only the <code>height</code>, <code>weight</code>, <code>leafarea</code> and <code>shootarea</code> variables we can include the appropriate column indexes when using the <code>[ ]</code>. Notice we include all rows by not specifying a row index.</p>
<div class="sourceCode" id="cb153"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb153-1" data-line-number="1"><span class="kw">summary</span>(flowers[, <span class="dv">4</span><span class="op">:</span><span class="dv">7</span>])</a>
<a class="sourceLine" id="cb153-2" data-line-number="2"><span class="co">#      height          weight         leafarea      shootarea    </span></a>
<a class="sourceLine" id="cb153-3" data-line-number="3"><span class="co">#  Min.   : 1.20   Min.   : 5.79   Min.   : 5.8   Min.   :  5.8  </span></a>
<a class="sourceLine" id="cb153-4" data-line-number="4"><span class="co">#  1st Qu.: 4.47   1st Qu.: 9.03   1st Qu.:11.1   1st Qu.: 39.0  </span></a>
<a class="sourceLine" id="cb153-5" data-line-number="5"><span class="co">#  Median : 6.45   Median :11.39   Median :13.4   Median : 70.0  </span></a>
<a class="sourceLine" id="cb153-6" data-line-number="6"><span class="co">#  Mean   : 6.84   Mean   :12.15   Mean   :14.1   Mean   : 79.8  </span></a>
<a class="sourceLine" id="cb153-7" data-line-number="7"><span class="co">#  3rd Qu.: 9.03   3rd Qu.:14.54   3rd Qu.:16.4   3rd Qu.:113.3  </span></a>
<a class="sourceLine" id="cb153-8" data-line-number="8"><span class="co">#  Max.   :17.20   Max.   :23.89   Max.   :49.2   Max.   :189.6</span></a>
<a class="sourceLine" id="cb153-9" data-line-number="9"></a>
<a class="sourceLine" id="cb153-10" data-line-number="10"><span class="co"># or equivalently </span></a>
<a class="sourceLine" id="cb153-11" data-line-number="11"><span class="co"># summary(flowers[, c(&quot;height&quot;, &quot;weight&quot;, &quot;leafarea&quot;, &quot;shootarea&quot;)])</span></a></code></pre></div>
<p>And to summarise a single variable.</p>
<div class="sourceCode" id="cb154"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb154-1" data-line-number="1"><span class="kw">summary</span>(flowers<span class="op">$</span>leafarea)</a>
<a class="sourceLine" id="cb154-2" data-line-number="2"><span class="co">#    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. </span></a>
<a class="sourceLine" id="cb154-3" data-line-number="3"><span class="co">#     5.8    11.1    13.4    14.1    16.4    49.2</span></a>
<a class="sourceLine" id="cb154-4" data-line-number="4"></a>
<a class="sourceLine" id="cb154-5" data-line-number="5"><span class="co"># or equivalently</span></a>
<a class="sourceLine" id="cb154-6" data-line-number="6"><span class="co"># summary(flowers[, 6])</span></a></code></pre></div>
<p>As you’ve seen above, the <code>summary()</code> function reports the number of observations in each level of our factor variables. Another useful function for generating tables of counts is the <code>table()</code> function. The <code>table()</code> function can be used to build contingency tables of different combinations of factor levels. For example, to count the number of observations for each level of <code>nitrogen</code></p>
<div class="sourceCode" id="cb155"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb155-1" data-line-number="1"><span class="kw">table</span>(flowers<span class="op">$</span>nitrogen)</a>
<a class="sourceLine" id="cb155-2" data-line-number="2"><span class="co"># </span></a>
<a class="sourceLine" id="cb155-3" data-line-number="3"><span class="co">#   high    low medium </span></a>
<a class="sourceLine" id="cb155-4" data-line-number="4"><span class="co">#     32     32     32</span></a></code></pre></div>
<p>We can extend this further by producing a table of counts for each combination of <code>nitrogen</code> and <code>treat</code> factor levels.</p>
<div class="sourceCode" id="cb156"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb156-1" data-line-number="1"><span class="kw">table</span>(flowers<span class="op">$</span>nitrogen, flowers<span class="op">$</span>treat)</a>
<a class="sourceLine" id="cb156-2" data-line-number="2"><span class="co">#         </span></a>
<a class="sourceLine" id="cb156-3" data-line-number="3"><span class="co">#          notip tip</span></a>
<a class="sourceLine" id="cb156-4" data-line-number="4"><span class="co">#   high      16  16</span></a>
<a class="sourceLine" id="cb156-5" data-line-number="5"><span class="co">#   low       16  16</span></a>
<a class="sourceLine" id="cb156-6" data-line-number="6"><span class="co">#   medium    16  16</span></a></code></pre></div>
<p>A more flexible version of the <code>table()</code> function is the <code>xtabs()</code> function. The <code>xtabs()</code> function uses a formula notation (<code>~</code>) to build contingency tables with the cross-classifying variables separated by a <code>+</code> symbol on the right hand side of the formula. <code>xtabs()</code> also has a useful <code>data =</code> argument so you don’t have to include the data frame name when specifying each variable.</p>
<div class="sourceCode" id="cb157"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb157-1" data-line-number="1"><span class="kw">xtabs</span>(<span class="op">~</span><span class="st"> </span>nitrogen <span class="op">+</span><span class="st"> </span>treat, <span class="dt">data =</span> flowers)</a>
<a class="sourceLine" id="cb157-2" data-line-number="2"><span class="co">#         treat</span></a>
<a class="sourceLine" id="cb157-3" data-line-number="3"><span class="co"># nitrogen notip tip</span></a>
<a class="sourceLine" id="cb157-4" data-line-number="4"><span class="co">#   high      16  16</span></a>
<a class="sourceLine" id="cb157-5" data-line-number="5"><span class="co">#   low       16  16</span></a>
<a class="sourceLine" id="cb157-6" data-line-number="6"><span class="co">#   medium    16  16</span></a></code></pre></div>
<p>We can even build more complicated contingency tables using more variables. Note, in the example below the <code>xtabs()</code> function has quietly coerced our <code>block</code> variable to a factor.</p>
<div class="sourceCode" id="cb158"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb158-1" data-line-number="1"><span class="kw">xtabs</span>(<span class="op">~</span><span class="st"> </span>nitrogen <span class="op">+</span><span class="st"> </span>treat <span class="op">+</span><span class="st"> </span>block, <span class="dt">data =</span> flowers)</a>
<a class="sourceLine" id="cb158-2" data-line-number="2"><span class="co"># , , block = 1</span></a>
<a class="sourceLine" id="cb158-3" data-line-number="3"><span class="co"># </span></a>
<a class="sourceLine" id="cb158-4" data-line-number="4"><span class="co">#         treat</span></a>
<a class="sourceLine" id="cb158-5" data-line-number="5"><span class="co"># nitrogen notip tip</span></a>
<a class="sourceLine" id="cb158-6" data-line-number="6"><span class="co">#   high       8   8</span></a>
<a class="sourceLine" id="cb158-7" data-line-number="7"><span class="co">#   low        8   8</span></a>
<a class="sourceLine" id="cb158-8" data-line-number="8"><span class="co">#   medium     8   8</span></a>
<a class="sourceLine" id="cb158-9" data-line-number="9"><span class="co"># </span></a>
<a class="sourceLine" id="cb158-10" data-line-number="10"><span class="co"># , , block = 2</span></a>
<a class="sourceLine" id="cb158-11" data-line-number="11"><span class="co"># </span></a>
<a class="sourceLine" id="cb158-12" data-line-number="12"><span class="co">#         treat</span></a>
<a class="sourceLine" id="cb158-13" data-line-number="13"><span class="co"># nitrogen notip tip</span></a>
<a class="sourceLine" id="cb158-14" data-line-number="14"><span class="co">#   high       8   8</span></a>
<a class="sourceLine" id="cb158-15" data-line-number="15"><span class="co">#   low        8   8</span></a>
<a class="sourceLine" id="cb158-16" data-line-number="16"><span class="co">#   medium     8   8</span></a></code></pre></div>
<p>And for a nicer formatted table we can nest the <code>xtabs()</code> function inside the <code>ftable()</code> function to ‘flatten’ the table.</p>
<div class="sourceCode" id="cb159"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb159-1" data-line-number="1"><span class="kw">ftable</span>(<span class="kw">xtabs</span>(<span class="op">~</span><span class="st"> </span>nitrogen <span class="op">+</span><span class="st"> </span>treat <span class="op">+</span><span class="st"> </span>block, <span class="dt">data =</span> flowers))</a>
<a class="sourceLine" id="cb159-2" data-line-number="2"><span class="co">#                block 1 2</span></a>
<a class="sourceLine" id="cb159-3" data-line-number="3"><span class="co"># nitrogen treat          </span></a>
<a class="sourceLine" id="cb159-4" data-line-number="4"><span class="co"># high     notip       8 8</span></a>
<a class="sourceLine" id="cb159-5" data-line-number="5"><span class="co">#          tip         8 8</span></a>
<a class="sourceLine" id="cb159-6" data-line-number="6"><span class="co"># low      notip       8 8</span></a>
<a class="sourceLine" id="cb159-7" data-line-number="7"><span class="co">#          tip         8 8</span></a>
<a class="sourceLine" id="cb159-8" data-line-number="8"><span class="co"># medium   notip       8 8</span></a>
<a class="sourceLine" id="cb159-9" data-line-number="9"><span class="co">#          tip         8 8</span></a></code></pre></div>
<p>We can also summarise our data for each level of a factor variable. Let’s say we want to calculate the mean value of <code>height</code> for each of our <code>low</code>, <code>meadium</code> and <code>high</code> levels of <code>nitrogen</code>. To do this we will use the <code>mean()</code> function and apply this to the <code>height</code> variable for each level of <code>nitrogen</code> using the <code>tapply()</code> function.</p>
<div class="sourceCode" id="cb160"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb160-1" data-line-number="1"><span class="kw">tapply</span>(flowers<span class="op">$</span>height, flowers<span class="op">$</span>nitrogen, mean)</a>
<a class="sourceLine" id="cb160-2" data-line-number="2"><span class="co">#   high    low medium </span></a>
<a class="sourceLine" id="cb160-3" data-line-number="3"><span class="co">#  7.653  5.853  7.013</span></a></code></pre></div>
<p>The <code>tapply()</code> function is not just restricted to calculating mean values, you can use it to apply many of the functions that come with R or even functions you’ve written yourself (see <a href="prog-r.html#prog_r">Chapter 6</a> for more details). For example, we can apply the <code>sd()</code> function to calculate the standard deviation for each level of <code>nitrogen</code> or even the <code>summary()</code> function.</p>
<div class="sourceCode" id="cb161"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb161-1" data-line-number="1"><span class="kw">tapply</span>(flowers<span class="op">$</span>height, flowers<span class="op">$</span>nitrogen, sd)</a>
<a class="sourceLine" id="cb161-2" data-line-number="2"><span class="co">#   high    low medium </span></a>
<a class="sourceLine" id="cb161-3" data-line-number="3"><span class="co">#  3.483  2.828  3.005</span></a>
<a class="sourceLine" id="cb161-4" data-line-number="4"><span class="kw">tapply</span>(flowers<span class="op">$</span>height, flowers<span class="op">$</span>nitrogen, summary)</a>
<a class="sourceLine" id="cb161-5" data-line-number="5"><span class="co"># $high</span></a>
<a class="sourceLine" id="cb161-6" data-line-number="6"><span class="co">#    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. </span></a>
<a class="sourceLine" id="cb161-7" data-line-number="7"><span class="co">#    1.20    5.80    7.45    7.65    9.47   17.20 </span></a>
<a class="sourceLine" id="cb161-8" data-line-number="8"><span class="co"># </span></a>
<a class="sourceLine" id="cb161-9" data-line-number="9"><span class="co"># $low</span></a>
<a class="sourceLine" id="cb161-10" data-line-number="10"><span class="co">#    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. </span></a>
<a class="sourceLine" id="cb161-11" data-line-number="11"><span class="co">#    1.80    3.60    5.55    5.85    8.00   12.30 </span></a>
<a class="sourceLine" id="cb161-12" data-line-number="12"><span class="co"># </span></a>
<a class="sourceLine" id="cb161-13" data-line-number="13"><span class="co"># $medium</span></a>
<a class="sourceLine" id="cb161-14" data-line-number="14"><span class="co">#    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. </span></a>
<a class="sourceLine" id="cb161-15" data-line-number="15"><span class="co">#    1.80    4.50    7.00    7.01    9.95   12.30</span></a></code></pre></div>
<p>Note, if the variable you want to summarise contains missing values (<code>NA</code>) you will also need to include an argument specifying how you want the function to deal with the <code>NA</code> values. We saw an example if this in <a href="vectors.html#na_vals">Chapter 2</a> where the <code>mean()</code> function returned an <code>NA</code> when we had missing data. To include the <code>na.rm = TRUE</code> argument we simply add this as another argument when using <code>tapply()</code>.</p>
<div class="sourceCode" id="cb162"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb162-1" data-line-number="1"><span class="kw">tapply</span>(flowers<span class="op">$</span>height, flowers<span class="op">$</span>nitrogen, mean, <span class="dt">na.rm =</span> <span class="ot">TRUE</span>)</a>
<a class="sourceLine" id="cb162-2" data-line-number="2"><span class="co">#   high    low medium </span></a>
<a class="sourceLine" id="cb162-3" data-line-number="3"><span class="co">#  7.653  5.853  7.013</span></a></code></pre></div>
<p>We can also use <code>tapply()</code> to apply functions to more than one factor. The only thing to remember is that the factors need to be supplied to the <code>tapply()</code> function in the form of a list using the <code>list()</code> function. To calculate the mean <code>height</code> for each combination of <code>nitrogen</code> and <code>treat</code> factor levels we can use the <code>list(flowers$nitrogen, flowers$treat)</code> notation.</p>
<div class="sourceCode" id="cb163"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb163-1" data-line-number="1"><span class="kw">tapply</span>(flowers<span class="op">$</span>height, <span class="kw">list</span>(flowers<span class="op">$</span>nitrogen, flowers<span class="op">$</span>treat), mean)</a>
<a class="sourceLine" id="cb163-2" data-line-number="2"><span class="co">#        notip   tip</span></a>
<a class="sourceLine" id="cb163-3" data-line-number="3"><span class="co"># high   5.706 9.600</span></a>
<a class="sourceLine" id="cb163-4" data-line-number="4"><span class="co"># low    3.669 8.037</span></a>
<a class="sourceLine" id="cb163-5" data-line-number="5"><span class="co"># medium 4.838 9.188</span></a></code></pre></div>
<p>And if you get a little fed up with having to write <code>flowers$</code> for every variable you can nest the <code>tapply()</code> function inside the <code>with()</code> function. The <code>with()</code> function allows R to evaluate an R expression with respect to a named data object (in this case <code>flowers</code>).</p>
<div class="sourceCode" id="cb164"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb164-1" data-line-number="1"><span class="kw">with</span>(flowers, <span class="kw">tapply</span>(height, <span class="kw">list</span>(nitrogen, treat), mean))</a>
<a class="sourceLine" id="cb164-2" data-line-number="2"><span class="co">#        notip   tip</span></a>
<a class="sourceLine" id="cb164-3" data-line-number="3"><span class="co"># high   5.706 9.600</span></a>
<a class="sourceLine" id="cb164-4" data-line-number="4"><span class="co"># low    3.669 8.037</span></a>
<a class="sourceLine" id="cb164-5" data-line-number="5"><span class="co"># medium 4.838 9.188</span></a></code></pre></div>
<p>The <code>with()</code> function also works with many other functions and can save you alot of typing!</p>
<p>Another really useful function for summarising data is the <code>aggregate()</code> function. The <code>aggregate()</code> function works in a very similar way to <code>tapply()</code> but is a bit more flexible.</p>
<p>For example, to calculate the mean of the variables <code>height</code>, <code>weight</code>, <code>leafarea</code> and <code>shootarea</code> for each level of <code>nitrogen</code>.</p>
<div class="sourceCode" id="cb165"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb165-1" data-line-number="1"><span class="kw">aggregate</span>(flowers[, <span class="dv">4</span><span class="op">:</span><span class="dv">7</span>], <span class="dt">by =</span> <span class="kw">list</span>(<span class="dt">nitrogen =</span> flowers<span class="op">$</span>nitrogen), <span class="dt">FUN =</span> mean)</a>
<a class="sourceLine" id="cb165-2" data-line-number="2"><span class="co">#   nitrogen height weight leafarea shootarea</span></a>
<a class="sourceLine" id="cb165-3" data-line-number="3"><span class="co"># 1     high  7.653 16.647    17.18    126.69</span></a>
<a class="sourceLine" id="cb165-4" data-line-number="4"><span class="co"># 2      low  5.853  8.653    11.14     45.10</span></a>
<a class="sourceLine" id="cb165-5" data-line-number="5"><span class="co"># 3   medium  7.013 11.164    13.83     67.56</span></a></code></pre></div>
<p>In the code above we have indexed the columns we want to summarise in the <code>flowers</code> data frame using <code>flowers[, 4:7]</code>. The <code>by =</code> argument specifies a list of factors (<code>list(nitrogen = flowers$nitrogen)</code>) and the <code>FUN =</code> argument names the function to apply (<code>mean</code> in this example).</p>
<p>Similar to the <code>tapply()</code> function we can include more than one factor to apply a function to. Here we calculate the mean values for each combination of <code>nitrogen</code> and <code>treat</code></p>
<div class="sourceCode" id="cb166"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb166-1" data-line-number="1"><span class="kw">aggregate</span>(flowers[, <span class="dv">4</span><span class="op">:</span><span class="dv">7</span>], <span class="dt">by =</span> <span class="kw">list</span>(<span class="dt">nitrogen =</span> flowers<span class="op">$</span>nitrogen,</a>
<a class="sourceLine" id="cb166-2" data-line-number="2">                                 <span class="dt">treat =</span> flowers<span class="op">$</span>treat), <span class="dt">FUN =</span> mean)</a>
<a class="sourceLine" id="cb166-3" data-line-number="3"><span class="co">#   nitrogen treat height weight leafarea shootarea</span></a>
<a class="sourceLine" id="cb166-4" data-line-number="4"><span class="co"># 1     high notip  5.706 16.604   18.819    155.32</span></a>
<a class="sourceLine" id="cb166-5" data-line-number="5"><span class="co"># 2      low notip  3.669  8.289   12.325     59.89</span></a>
<a class="sourceLine" id="cb166-6" data-line-number="6"><span class="co"># 3   medium notip  4.838 11.317   14.175     94.53</span></a>
<a class="sourceLine" id="cb166-7" data-line-number="7"><span class="co"># 4     high   tip  9.600 16.689   15.544     98.06</span></a>
<a class="sourceLine" id="cb166-8" data-line-number="8"><span class="co"># 5      low   tip  8.037  9.016    9.963     30.31</span></a>
<a class="sourceLine" id="cb166-9" data-line-number="9"><span class="co"># 6   medium   tip  9.188 11.011   13.488     40.59</span></a></code></pre></div>
<p>We can also use the <code>aggregate()</code> function in a different way by using the formula method (as we did with <code>xtabs()</code>). On the left hand side of the formula (<code>~</code>) we specify the variable we want to apply the mean function on and to the right hand side our factors separated by a <code>+</code> symbol. The formula method also allows you to use the <code>data =</code> argument for convenience.</p>
<div class="sourceCode" id="cb167"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb167-1" data-line-number="1"><span class="kw">aggregate</span>(height <span class="op">~</span><span class="st"> </span>nitrogen <span class="op">+</span><span class="st"> </span>treat, <span class="dt">FUN =</span> mean, <span class="dt">data =</span> flowers)</a>
<a class="sourceLine" id="cb167-2" data-line-number="2"><span class="co">#   nitrogen treat height</span></a>
<a class="sourceLine" id="cb167-3" data-line-number="3"><span class="co"># 1     high notip  5.706</span></a>
<a class="sourceLine" id="cb167-4" data-line-number="4"><span class="co"># 2      low notip  3.669</span></a>
<a class="sourceLine" id="cb167-5" data-line-number="5"><span class="co"># 3   medium notip  4.838</span></a>
<a class="sourceLine" id="cb167-6" data-line-number="6"><span class="co"># 4     high   tip  9.600</span></a>
<a class="sourceLine" id="cb167-7" data-line-number="7"><span class="co"># 5      low   tip  8.037</span></a>
<a class="sourceLine" id="cb167-8" data-line-number="8"><span class="co"># 6   medium   tip  9.188</span></a></code></pre></div>
<p>One advantage of using the formula method is that we can also use the <code>subset =</code> argument to apply the function to subsets of the original data. For example, to calculate the mean <code>height</code> for each combination of the <code>nitrogen</code> and <code>treat</code> levels but only for those plants that have less than 7 <code>flowers</code>.</p>
<div class="sourceCode" id="cb168"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb168-1" data-line-number="1"><span class="kw">aggregate</span>(height <span class="op">~</span><span class="st"> </span>nitrogen <span class="op">+</span><span class="st"> </span>treat, <span class="dt">FUN =</span> mean, <span class="dt">subset =</span> flowers <span class="op">&lt;</span><span class="st"> </span><span class="dv">7</span>, <span class="dt">data =</span> flowers)</a>
<a class="sourceLine" id="cb168-2" data-line-number="2"><span class="co">#   nitrogen treat height</span></a>
<a class="sourceLine" id="cb168-3" data-line-number="3"><span class="co"># 1     high notip  3.850</span></a>
<a class="sourceLine" id="cb168-4" data-line-number="4"><span class="co"># 2      low notip  3.533</span></a>
<a class="sourceLine" id="cb168-5" data-line-number="5"><span class="co"># 3   medium notip  5.317</span></a>
<a class="sourceLine" id="cb168-6" data-line-number="6"><span class="co"># 4     high   tip  7.900</span></a>
<a class="sourceLine" id="cb168-7" data-line-number="7"><span class="co"># 5      low   tip  8.177</span></a>
<a class="sourceLine" id="cb168-8" data-line-number="8"><span class="co"># 6   medium   tip  8.570</span></a></code></pre></div>
<p>Or for only those plants in <code>block</code> 1.</p>
<div class="sourceCode" id="cb169"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb169-1" data-line-number="1"><span class="kw">aggregate</span>(height <span class="op">~</span><span class="st"> </span>nitrogen <span class="op">+</span><span class="st"> </span>treat, <span class="dt">FUN =</span> mean, <span class="dt">subset =</span> block <span class="op">==</span><span class="st"> &quot;1&quot;</span>, <span class="dt">data =</span> flowers)</a>
<a class="sourceLine" id="cb169-2" data-line-number="2"><span class="co">#   nitrogen treat height</span></a>
<a class="sourceLine" id="cb169-3" data-line-number="3"><span class="co"># 1     high notip  5.925</span></a>
<a class="sourceLine" id="cb169-4" data-line-number="4"><span class="co"># 2      low notip  3.325</span></a>
<a class="sourceLine" id="cb169-5" data-line-number="5"><span class="co"># 3   medium notip  5.237</span></a>
<a class="sourceLine" id="cb169-6" data-line-number="6"><span class="co"># 4     high   tip 10.037</span></a>
<a class="sourceLine" id="cb169-7" data-line-number="7"><span class="co"># 5      low   tip  8.750</span></a>
<a class="sourceLine" id="cb169-8" data-line-number="8"><span class="co"># 6   medium   tip  9.537</span></a></code></pre></div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="wrangling-data-frames.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="exporting-data.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": false,
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/alexd106/Rbook/edit/master/03-data.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": [["book.pdf", "PDF"]],
"toc": {
"collapse": "subsection"
},
"highlight": "tango"
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
