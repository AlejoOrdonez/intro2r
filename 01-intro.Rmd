# Getting started with R and RStudio

Although R is not new, it's popularity has increased rapidly over the last 10 years or so (see [here](http://r4stats.com/articles/popularity/) for an interesting take). It was originally created and developed by Ross Ihaka and Robert Gentleman during the 1990's with the first stable version released in 2000. R is currently developed and maintained by the R Development Core Team. Why has R become so popular? Some reasons include: 

- R is open source and freely available. 
- R is available for Windows, Mac and Linux operating systems.
- R has an extensive and coherent set of tools for statistical analysis.
- R has an extensive and highly flexible graphical facility capable of producing publication quality figures.
- R has an expanding set of freely available ‘packages’ of routines for special or unusual analyses.
- R has an extensive support network with numerous online and freely available documents.

However, for those who haven’t used it before, R may seem rather daunting and complex. Whilst the initial learning curve is admittedly a little steep, R offers the user a degree of flexibility and control not usually available in other more traditional 'point and click' statistical software. Most importantly, learning to use R will change the way you think about data analysis. As your analysis will be implemented using R code and R scripts you will always have a permanent and accurate record of your analytical approach which you can then make available to others to facilitate robust and reproducible research practices. 

## Installing R

To get up and running the first thing you need to do is install R. R is freely available for Windows, Mac and Linux operating systems from the [Comprehensive R Archive Network (CRAN) website](https://cran.r-project.org/). For Windows and Mac users I suggest you download and install the precompiled binary versions. 

**For Windows users** select 'Download R for Windows' link and then click on the 'base' link and finally the download link 'Download R 3.X.X for Windows' (where 3.X.X is the latest version of the binary - 3.6.1 at the time of writing). This will begin the download of the '.exe' installation file. When the download has completed double click on the R executable file and follow the on-screen instructions. Full installation instructions can be found at the [CRAN website](https://cran.r-project.org/bin/windows/).   

**For Mac users** select the '[Download R for (Mac) OS X](https://cran.r-project.org/bin/macosx/)' link. The binary can be downloaded by selecting the 'R-3.X.X.pkg' (R-3.6.1.pkg at the time of writing). Once downloaded, double click on the file icon and follow the on-screen instructions to guide you through the necessary steps. See the '[R for Mac OS X](https://cran.r-project.org/bin/macosx/RMacOSX-FAQ.html) FAQ' for further information on installation.

**For Linux users**, the installation method will depend on which flavour of linux you are using. There are reasonably comprehensive instruction [here](https://cran.r-project.org/bin/linux/) for Debian, Redhat, Suse  and Ubuntu. In most cases you can just use your OS package manager to install R from the official repository. On Ubuntu fire up a shell (console) and use (you will need root permission to do this):

```{block}
    sudo apt update
    sudo apt install r-base r-base-dev
```

which will install base R and also the development version of base R (you only need this if you want to compile R packages from source but it doesn't hurt to have it). 

If you receive an error after running the code above you may need to add a 'source.list' entry to your etc/apt/sources.list file. To do this open the /etc/apt/sources.list file in your favourite text editor (gedit, vim, nano etc) and add the following line (you will need root permission to do this):

```{block }
    deb https://cloud.r-project.org/bin/linux/ubuntu disco-cran35/
```

This is the source.list for the latest version (at the time of writing) of Ubuntu (19.04 Disco Dingo). If you're using an earlier version of Ubuntu then replace the source.list entry to the one which corresponds to the version of Ubuntu you are using (see [here](https://cran.r-project.org/bin/linux/ubuntu) for an up to date list). Once you have done this then re-run the apt commands above and you should be good to go.

Whichever operating system you're using, once you have installed R you need to check its working properly. The easiest way to do this is to start R by double clicking on the R icon (Windows or Mac) or by typing `R` into the console (Linux). You should see the R console and you should be able to type R commands into the console. Try typing the following R code and then press enter (don't worry of you don't understand this - we're just checking if R works)

A plot of the numbers 1 to 10 on both the x and y axes should appear. If you see this, you're good to go. If not then I suggest you make a note of any errors produced and then use Google to troubleshoot). 

```{r, out.width="75%", fig.align="center", fig.cap="plot to test R installation"}
plot(1:10)
```

## Installing RStudio

Whilst its eminently possible to just use the base installation of R (many people do), we will be using a popular Integrated Development Environment (IDE) called RStudio. RStudio can be thought of as an add-on to R which provides a more user-friendly interface, incorporating the R console, script editor and other useful functionality (like R markdown and Git Hub integration). You can find more information about [RStudio here](https://rstudio.com/). 

RStudio is freely available for Windows, Mac and Linux operating systems and can be downloaded from the [RStudio site](https://rstudio.com/products/rstudio/download). You should select the 'RStudio Desktop' version. Note: you must install R before you install RStudio (see previous section).

**For Windows and Mac users** you should be presented with the appropriate link for downloading. Click on this link and once downloaded run the installer and follow the instructions. If you don't see the link then scroll down to the 'All Installers' section and choose the appropriate link manually. 

**For linux users** scroll down to the 'All Installers' section and choose the appropriate link to download the binary for your Linux operating system. RStudio for Ubuntu (and Debian) is available as a `*.deb`  package. The easiest way to install `deb` files on Ubuntu is by using the `gdebi` command. If `gdebi` is not available on your system you can install it by executing the following command in the console (you will need root permission to do this) 

```{block}
    sudo apt update
    sudo apt install gdebi-core
```

To install the `*.deb` file navigate to where you downloaded the file and then enter the following command with root permission

```{block}
    sudo gdebi rstudio-xenial-1.2.5XXX-amd64.deb
```

where '-1.2.5XXX' is the current version for Ubuntu (rstudio-xenial-1.2.5019-amd64.deb at the time of writing). You can then start RStudio from the console by simply typing

```{block}
    rstudio
```

or you can create a shortcut on your Desktop for easy startup. 

Once installed, you can check everything is working by starting up RStudio. You should see something like the image below (there might only be 3 windows when you first start RStudio, don't worry, we'll get to this in a bit). 

```{r rstudio, echo=FALSE, out.width="75%", fig.align="center", fig.cap="RStudio on Mac OS X"}
knitr::include_graphics(path = "images/rstudio.png")
```


## Alternatives to RStudio

Although RStudio is becoming increasingly popular it might not be the best choice for everyone. Rather than using an 'all in one' IDE many people choose to use R in combination with a separate script editor to write and execute R code. If you're not familiar with what a script editor is, you can think of it as a bit like a word processor but specifically designed for writing code. Happily, there are many script editors freely available so feel free to download and experiment until you find one you like. Some script editors are only available for certain operating systems and not all are specific to R. Suggestions for script editors are:

**For windows users**

- Tinn-R (https://sourceforge.net/projects/tinn-r/)
- Atom (https://atom.io/)
- Notepad++ (https://notepad-plus-plus.org/)

**For Mac users**

- TextMate (https://macromates.com/)
- Atom (https://atom.io/)
- MacVim (https://github.com/macvim-dev/macvim)

**For Linux users**

- gedit (comes with Ubuntu already)
- Atom (https://atom.io/)
- vim/nano (console based editors)

Which one you choose is up to you. One of the great things about R is that *YOU* get to choose how you want to use R.
